2024-04-28 20:19:42 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-04-28 20:19:42 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-04-28 20:19:42 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.20.4' 
2024-04-28 20:19:42 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-04-28 20:19:42 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.20.4', '662e4cee0c38a' , NOW() );
2024-04-28 20:19:42 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.20.4', 'Login' , NOW() );
2024-04-28 20:19:42 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-04-28 20:19:42 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-04-28 20:19:42 page: 0
2024-04-28 20:19:42 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-04-28 20:19:44 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-04-28 20:19:44 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-04-28 20:19:44 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-04-28 20:19:44 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-04-28 20:19:44 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-04-28 20:19:44 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-04-28 20:19:46 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-04-28 20:19:46 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-04-28 20:19:46 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-04-28 20:20:53  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-04-28 20:21:01 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'Demo4' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-04-28 20:21:01 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-04-28 20:21:01 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 246 AND ip_addr != '192.168.20.4' 
2024-04-28 20:21:01 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 246
2024-04-28 20:21:01 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '246','192.168.20.4', '662e4d3d221f3' , NOW() );
2024-04-28 20:21:01 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '246','192.168.20.4', 'Login' , NOW() );
2024-04-28 20:21:01 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:21:01 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id is not null  GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-04-28 20:21:01 page: 0
2024-04-28 20:21:01 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 246 )  ORDER BY n.create_date DESC 
2024-04-28 20:21:02 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:21:02  SELECT agent_id, agent_login, first_name , last_name, first_name_th, last_name_th , genesysid, nickname, img_path, is_active, lv.role_label , a.group_id , group_name, a.team_id , team_name, last_login_dt  FROM  t_agents a  LEFT OUTER JOIN tl_role lv ON a.level_id = lv.role_lv  LEFT OUTER JOIN t_group g ON a.group_id = g.group_id  LEFT OUTER JOIN t_team t ON t.team_id = a.team_id  WHERE agent_id IS NOT NULL  ORDER BY a.team_id , first_name  
2024-04-28 20:22:23 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =0, lv_qc =0, lv_manager =0, lv_project =1, lv_qa =0, lv_admin =1 WHERE module_id = 1 
2024-04-28 20:22:23 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =1, lv_sup =1, lv_qc =1, lv_manager =1, lv_project =1, lv_qa =0, lv_admin =1 WHERE module_id = 2 
2024-04-28 20:22:23 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =0, lv_qc =0, lv_manager =0, lv_project =1, lv_qa =0, lv_admin =1 WHERE module_id = 3 
2024-04-28 20:22:23 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =1, lv_qc =0, lv_manager =0, lv_project =1, lv_qa =0, lv_admin =1 WHERE module_id = 4 
2024-04-28 20:22:23 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =1, lv_qc =0, lv_manager =0, lv_project =1, lv_qa =0, lv_admin =1 WHERE module_id = 8 
2024-04-28 20:22:23 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =1, lv_sup =1, lv_qc =0, lv_manager =1, lv_project =1, lv_qa =0, lv_admin =1 WHERE module_id = 5 
2024-04-28 20:22:23 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =1, lv_qc =0, lv_manager =1, lv_project =1, lv_qa =1, lv_admin =1 WHERE module_id = 7 
2024-04-28 20:22:23 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =0, lv_qc =0, lv_manager =0, lv_project =0, lv_qa =0, lv_admin =0 WHERE module_id = 9 
2024-04-28 20:22:23 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =0, lv_qc =0, lv_manager =0, lv_project =0, lv_qa =0, lv_admin =0 WHERE module_id = 10 
2024-04-28 20:22:23 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =1, lv_sup =1, lv_qc =1, lv_manager =1, lv_project =1, lv_qa =1, lv_admin =1 WHERE module_id = 11 
2024-04-28 20:22:23 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =1, lv_qc =1, lv_manager =1, lv_project =0, lv_qa =1, lv_admin =1 WHERE module_id = 13 
2024-04-28 20:22:29 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =0, lv_qc =0, lv_manager =0, lv_project =1, lv_qa =0, lv_admin =1 WHERE module_id = 1 
2024-04-28 20:22:29 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =1, lv_sup =1, lv_qc =1, lv_manager =1, lv_project =1, lv_qa =0, lv_admin =1 WHERE module_id = 2 
2024-04-28 20:22:29 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =0, lv_qc =0, lv_manager =0, lv_project =1, lv_qa =0, lv_admin =1 WHERE module_id = 3 
2024-04-28 20:22:29 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =1, lv_qc =0, lv_manager =0, lv_project =1, lv_qa =0, lv_admin =1 WHERE module_id = 4 
2024-04-28 20:22:29 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =1, lv_qc =0, lv_manager =0, lv_project =1, lv_qa =0, lv_admin =1 WHERE module_id = 8 
2024-04-28 20:22:29 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =1, lv_sup =1, lv_qc =0, lv_manager =1, lv_project =1, lv_qa =0, lv_admin =1 WHERE module_id = 5 
2024-04-28 20:22:29 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =1, lv_qc =0, lv_manager =1, lv_project =1, lv_qa =1, lv_admin =1 WHERE module_id = 7 
2024-04-28 20:22:29 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =0, lv_qc =0, lv_manager =0, lv_project =0, lv_qa =0, lv_admin =0 WHERE module_id = 9 
2024-04-28 20:22:29 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =0, lv_qc =0, lv_manager =0, lv_project =0, lv_qa =0, lv_admin =0 WHERE module_id = 10 
2024-04-28 20:22:29 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =1, lv_sup =1, lv_qc =1, lv_manager =1, lv_project =1, lv_qa =1, lv_admin =1 WHERE module_id = 11 
2024-04-28 20:22:29 [permission_process][save] sql  UPDATE tl_module SET  lv_agent =0, lv_sup =0, lv_qc =0, lv_manager =0, lv_project =0, lv_qa =0, lv_admin =1 WHERE module_id = 13 
2024-04-28 20:22:32 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:22:32  SELECT agent_id, agent_login, first_name , last_name, first_name_th, last_name_th , genesysid, nickname, img_path, is_active, lv.role_label , a.group_id , group_name, a.team_id , team_name, last_login_dt  FROM  t_agents a  LEFT OUTER JOIN tl_role lv ON a.level_id = lv.role_lv  LEFT OUTER JOIN t_group g ON a.group_id = g.group_id  LEFT OUTER JOIN t_team t ON t.team_id = a.team_id  WHERE agent_id IS NOT NULL  ORDER BY a.team_id , first_name  
2024-04-28 20:22:42 [setting-pane_process][exapp_init] sql :  SELECT ex_app_id , r.campaign_id , c.campaign_name, ex_app_name , ex_app_url , r.is_active , a.first_name , a.last_name , r.create_date  FROM t_external_app_register r LEFT OUTER JOIN t_agents a ON r.create_user = a.agent_id   LEFT OUTER JOIN t_campaign c ON r.campaign_id = c.campaign_id  ORDER BY ex_app_id 
2024-04-28 20:22:42 [setting-pane_process][init] sql :  SELECT field_id , field_name , field_alias_name , field_type , field_detail , field_length , is_default , `status` , a1.first_name AS cfname , a1.last_name AS clname , fl.create_date ,   fl.update_date , a2.first_name AS ufname , a2.last_name  AS ulname  FROM ts_field_list fl  LEFT OUTER JOIN t_agents a1 ON fl.create_user = a1.agent_id  LEFT OUTER JOIN t_agents a2 ON fl.update_user = a2.agent_id  WHERE is_default = 0  ORDER BY field_id
2024-04-28 20:23:17 [setting-pane_process][insert] sql :  INSERT INTO  ts_field_list (  	field_name , field_alias_name , field_type , field_detail , field_length , is_default , `status` , create_user , create_date ) VALUES (  'test' ,'test' ,'varchar' ,'text' ,'100' ,0 ,1 ,246 , NOW() )  
2024-04-28 20:23:17 [setting-pane_process][init] sql :  SELECT field_id , field_name , field_alias_name , field_type , field_detail , field_length , is_default , `status` , a1.first_name AS cfname , a1.last_name AS clname , fl.create_date ,   fl.update_date , a2.first_name AS ufname , a2.last_name  AS ulname  FROM ts_field_list fl  LEFT OUTER JOIN t_agents a1 ON fl.create_user = a1.agent_id  LEFT OUTER JOIN t_agents a2 ON fl.update_user = a2.agent_id  WHERE is_default = 0  ORDER BY field_id
2024-04-28 20:23:44 [setting-pane_process][update] sql : UPDATE ts_field_list SET field_name ='test',field_alias_name ='test',field_type = 'varchar',field_detail = 'text',field_length ='100',is_default = 0 ,`status` = 1 ,update_date =NOW(),update_user ='246' WHERE field_id = 63 
2024-04-28 20:23:44 [setting-pane_process][init] sql :  SELECT field_id , field_name , field_alias_name , field_type , field_detail , field_length , is_default , `status` , a1.first_name AS cfname , a1.last_name AS clname , fl.create_date ,   fl.update_date , a2.first_name AS ufname , a2.last_name  AS ulname  FROM ts_field_list fl  LEFT OUTER JOIN t_agents a1 ON fl.create_user = a1.agent_id  LEFT OUTER JOIN t_agents a2 ON fl.update_user = a2.agent_id  WHERE is_default = 0  ORDER BY field_id
2024-04-28 20:23:51 [setting-pane_process][delete] sql : DELETE FROM ts_field_list  WHERE field_id = 63 
2024-04-28 20:23:51 [setting-pane_process][init] sql :  SELECT field_id , field_name , field_alias_name , field_type , field_detail , field_length , is_default , `status` , a1.first_name AS cfname , a1.last_name AS clname , fl.create_date ,   fl.update_date , a2.first_name AS ufname , a2.last_name  AS ulname  FROM ts_field_list fl  LEFT OUTER JOIN t_agents a1 ON fl.create_user = a1.agent_id  LEFT OUTER JOIN t_agents a2 ON fl.update_user = a2.agent_id  WHERE is_default = 0  ORDER BY field_id
2024-04-28 20:24:09 [license-pane_process][query] get user in system sql :  SELECT  sum( a.lvl_agent ) as lvl_agent , sum( a.lvl_sup ) as lvl_sup , sum( a.lvl_qcqa ) as lvl_qcqa , sum( a.lvl_manager ) as lvl_manager , sum( a.lvl_project ) as lvl_project , sum( a.lvl_admin ) as lvl_admin  FROM ( SELECT agent_id , CASE WHEN  level_id = 1 then 1 else 0 end AS lvl_agent  , CASE WHEN level_id =  2 then 1 else 0 end AS lvl_sup  , CASE WHEN level_id = 3 then 1 else 0 end AS lvl_qcqa  , CASE WHEN level_id = 4 then 1 else 0 end AS lvl_manager  , CASE WHEN level_id = 5 then 1 else 0 end AS lvl_project  , CASE WHEN level_id = 6 then 1 else 0 end AS lvl_admin  FROM t_agents ) AS a 
2024-04-28 20:24:09 [license-pane_process][query] get user in system sql :  SELECT  sum( a.lvl_agent ) as lvl_agent , sum( a.lvl_sup ) as lvl_sup , sum( a.lvl_qcqa ) as lvl_qcqa , sum( a.lvl_manager ) as lvl_manager , sum( a.lvl_project ) as lvl_project , sum( a.lvl_admin ) as lvl_admin  FROM ( SELECT agent_id , CASE WHEN  level_id = 1 then 1 else 0 end AS lvl_agent  , CASE WHEN level_id =  2 then 1 else 0 end AS lvl_sup  , CASE WHEN level_id = 3 then 1 else 0 end AS lvl_qcqa  , CASE WHEN level_id = 4 then 1 else 0 end AS lvl_manager  , CASE WHEN level_id = 5 then 1 else 0 end AS lvl_project  , CASE WHEN level_id = 6 then 1 else 0 end AS lvl_admin  FROM t_agents ) AS a 
2024-04-28 20:24:12 [setting-pane_process][init] sql :  SELECT field_id , field_name , field_alias_name , field_type , field_detail , field_length , is_default , `status` , a1.first_name AS cfname , a1.last_name AS clname , fl.create_date ,   fl.update_date , a2.first_name AS ufname , a2.last_name  AS ulname  FROM ts_field_list fl  LEFT OUTER JOIN t_agents a1 ON fl.create_user = a1.agent_id  LEFT OUTER JOIN t_agents a2 ON fl.update_user = a2.agent_id  WHERE is_default = 0  ORDER BY field_id
2024-04-28 20:24:12 [setting-pane_process][exapp_init] sql :  SELECT ex_app_id , r.campaign_id , c.campaign_name, ex_app_name , ex_app_url , r.is_active , a.first_name , a.last_name , r.create_date  FROM t_external_app_register r LEFT OUTER JOIN t_agents a ON r.create_user = a.agent_id   LEFT OUTER JOIN t_campaign c ON r.campaign_id = c.campaign_id  ORDER BY ex_app_id 
2024-04-28 20:24:26 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id is not null  GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-04-28 20:24:26 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:24:26 page: 0
2024-04-28 20:24:26 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 246 )  ORDER BY n.create_date DESC 
2024-04-28 20:24:33 [news-pane_process][save] check sql : SELECT news_id FROM t_news WHERE news_id = null 
2024-04-28 20:24:33 [news-pane_process][save] insert sql :  INSERT INTO t_news ( news_subject , news_detail , news_type , is_active, create_user , create_date ) VALUES (  'Test Post Upgrade' ,null ,'1' ,1 ,246 , NOW() )  
2024-04-28 20:24:33 page: 1
2024-04-28 20:24:33 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 246 )  ORDER BY n.create_date DESC 
2024-04-28 20:24:36 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id is not null  GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-04-28 20:24:36 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:24:36 page: 0
2024-04-28 20:24:36 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 246 )  ORDER BY n.create_date DESC 
2024-04-28 20:24:38 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:25:18 check campaign unique id : 
2024-04-28 20:25:18 [campaign-pane_process][create] create campaign sql :  INSERT INTO t_campaign( campaign_uniqueid , campaign_name , campaign_detail, is_expire , start_date,end_date, maximum_call, genesys_queueid, genesys_campaignid,status , script_id, create_user, create_date ) VALUES (  '662e4e3e9e10b' ,'TEST UPGRADEVERSION' ,'TEST UPGRADE CREATE CAMPAIGN' ,'0' ,'2024-04-29' ,'2024-05-03' ,100 ,'0' ,'0' , 1 ,null ,246 , NOW() )  
2024-04-28 20:25:26 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:25:30 [campaign-pane_process][detail] query detail :  SELECT campaign_id,campaign_name,campaign_detail,campaign_type, app_id , maximum_call, genesys_queueid, genesys_campaignid , start_date,end_date, c.status, st.status_detail, st.status_color , c.script_id,s.script_detail,  a.first_name , a.last_name , c.create_date  FROM t_campaign c LEFT OUTER JOIN t_callscript s ON c.script_id = s.script_id  LEFT OUTER JOIN ts_campaign_status st ON c.status = st.status_id  LEFT OUTER JOIN t_agents a ON a.agent_id = c.create_user  WHERE campaign_id = 71 
2024-04-28 20:25:30 [campaign-pane_process][detail]  SELECT campaign_id , campaign_name ,import_id ,list_name,list_detail,join_date,status_id,status_detail,status_color, total_list  , other_list  , COUNT( DISTINCT assign_list ) AS assign_list  , SUM( unassign_list ) AS unassign_list  FROM (  SELECT c.campaign_id , c.campaign_name , cl.import_id  , iml.list_name  ,iml.list_detail , cl.join_date  , cl.join_status as status_id ,ls.status_detail as status_detail , ls.status_color  ,cla.calllist_id  , iml.total_records as total_list  , ( iml.bad_list + iml.inlist_dup + iml.indb_dup ) as other_list  ,CASE WHEN cla.agent_id  IS NOT NULL THEN cla.calllist_id END AS assign_list  ,CASE WHEN cla.assign_dt IS NULL AND cl.import_id  IS NOT NULL THEN 1 else 0 END AS unassign_list  FROM t_campaign c LEFT OUTER JOIN t_campaign_list cl  ON ( c.campaign_id = cl.campaign_id )  LEFT OUTER JOIN ts_map_list_status ls  ON (  cl.join_status = ls.status_id )  LEFT OUTER JOIN t_import_list iml  ON ( cl.import_id =  iml.import_id )  LEFT OUTER JOIN t_calllist_agent cla  ON ( c.campaign_id = cla.campaign_id AND cla.import_id = iml.import_id )  ) AS A  WHERE campaign_id = 71 GROUP BY campaign_id , campaign_name ,import_id ,list_name,list_detail,join_date,status_id,status_detail,status_color,total_list  ,other_list  ORDER BY  campaign_id , campaign_name ,import_id 
2024-04-28 20:25:51 SAVE CAPTION
2024-04-28 20:25:51 current campaign status : 1
2024-04-28 20:25:51 [campaign-pane_process][save_caption]  CHANGE campaign status FROM 1 to 2 : UPDATE t_campaign SET `status` = 2 WHERE campaign_id = 71
2024-04-28 20:25:51 [campaign-pane_process][detail] query detail :  SELECT campaign_id,campaign_name,campaign_detail,campaign_type, app_id , maximum_call, genesys_queueid, genesys_campaignid , start_date,end_date, c.status, st.status_detail, st.status_color , c.script_id,s.script_detail,  a.first_name , a.last_name , c.create_date  FROM t_campaign c LEFT OUTER JOIN t_callscript s ON c.script_id = s.script_id  LEFT OUTER JOIN ts_campaign_status st ON c.status = st.status_id  LEFT OUTER JOIN t_agents a ON a.agent_id = c.create_user  WHERE campaign_id = 71 
2024-04-28 20:25:51 [campaign-pane_process][detail]  SELECT campaign_id , campaign_name ,import_id ,list_name,list_detail,join_date,status_id,status_detail,status_color, total_list  , other_list  , COUNT( DISTINCT assign_list ) AS assign_list  , SUM( unassign_list ) AS unassign_list  FROM (  SELECT c.campaign_id , c.campaign_name , cl.import_id  , iml.list_name  ,iml.list_detail , cl.join_date  , cl.join_status as status_id ,ls.status_detail as status_detail , ls.status_color  ,cla.calllist_id  , iml.total_records as total_list  , ( iml.bad_list + iml.inlist_dup + iml.indb_dup ) as other_list  ,CASE WHEN cla.agent_id  IS NOT NULL THEN cla.calllist_id END AS assign_list  ,CASE WHEN cla.assign_dt IS NULL AND cl.import_id  IS NOT NULL THEN 1 else 0 END AS unassign_list  FROM t_campaign c LEFT OUTER JOIN t_campaign_list cl  ON ( c.campaign_id = cl.campaign_id )  LEFT OUTER JOIN ts_map_list_status ls  ON (  cl.join_status = ls.status_id )  LEFT OUTER JOIN t_import_list iml  ON ( cl.import_id =  iml.import_id )  LEFT OUTER JOIN t_calllist_agent cla  ON ( c.campaign_id = cla.campaign_id AND cla.import_id = iml.import_id )  ) AS A  WHERE campaign_id = 71 GROUP BY campaign_id , campaign_name ,import_id ,list_name,list_detail,join_date,status_id,status_detail,status_color,total_list  ,other_list  ORDER BY  campaign_id , campaign_name ,import_id 
2024-04-28 20:25:54 [campaign-pane_process][select_wrapup] sql :  SELECT wrapup_code , wrapup_dtl , parent_code , seq_no , `status` , remove_list , option_id, genesys_wrapup_id  FROM t_wrapup_code WHERE campaign_id like '%71%'  
2024-04-28 20:26:11 [campaign-pane_process][save_wrapup] update wrapup sql : UPDATE t_wrapup_code SET wrapup_dtl ='test',genesys_wrapup_id =null,parent_code =null,seq_no =null,status =null,remove_list =null,option_id =null WHERE wrapup_code = '100' 
2024-04-28 20:26:11 [campaign-pane_process][select_wrapup] sql :  SELECT wrapup_code , wrapup_dtl , parent_code , seq_no , `status` , remove_list , option_id, genesys_wrapup_id  FROM t_wrapup_code WHERE campaign_id like '%71%'  
2024-04-28 20:26:13 [campaign-pane_process][select_wrapup] sql :  SELECT wrapup_code , wrapup_dtl , parent_code , seq_no , `status` , remove_list , option_id, genesys_wrapup_id  FROM t_wrapup_code WHERE campaign_id like '%71%'  
2024-04-28 20:26:14 [campaign-pane_process][summary] campaign sql :  SELECT campaign_name , campaign_detail , start_date , end_date , `status`, status_detail , c.create_date , a.first_name , a.last_name  FROM t_campaign c  LEFT OUTER JOIN t_agents a ON c.create_user = a.agent_id  LEFT OUTER JOIN ts_campaign_status s ON s.status_id = c.status  WHERE campaign_id = 71 
2024-04-28 20:26:14 [campaign-pane_process][summary] campaign list  sql :  SELECT l.import_id , i.list_name , i.list_detail , total_records , bad_list , inlist_dup ,  indb_dup  FROM t_campaign_list l LEFT OUTER JOIN t_import_list i ON l.import_id = i.import_id  WHERE l.campaign_id = 71  ORDER BY i.list_name 
2024-04-28 20:26:20 [campaign-pane_process][detail] query detail :  SELECT campaign_id,campaign_name,campaign_detail,campaign_type, app_id , maximum_call, genesys_queueid, genesys_campaignid , start_date,end_date, c.status, st.status_detail, st.status_color , c.script_id,s.script_detail,  a.first_name , a.last_name , c.create_date  FROM t_campaign c LEFT OUTER JOIN t_callscript s ON c.script_id = s.script_id  LEFT OUTER JOIN ts_campaign_status st ON c.status = st.status_id  LEFT OUTER JOIN t_agents a ON a.agent_id = c.create_user  WHERE campaign_id = 12 
2024-04-28 20:26:20 [campaign-pane_process][detail]  SELECT campaign_id , campaign_name ,import_id ,list_name,list_detail,join_date,status_id,status_detail,status_color, total_list  , other_list  , COUNT( DISTINCT assign_list ) AS assign_list  , SUM( unassign_list ) AS unassign_list  FROM (  SELECT c.campaign_id , c.campaign_name , cl.import_id  , iml.list_name  ,iml.list_detail , cl.join_date  , cl.join_status as status_id ,ls.status_detail as status_detail , ls.status_color  ,cla.calllist_id  , iml.total_records as total_list  , ( iml.bad_list + iml.inlist_dup + iml.indb_dup ) as other_list  ,CASE WHEN cla.agent_id  IS NOT NULL THEN cla.calllist_id END AS assign_list  ,CASE WHEN cla.assign_dt IS NULL AND cl.import_id  IS NOT NULL THEN 1 else 0 END AS unassign_list  FROM t_campaign c LEFT OUTER JOIN t_campaign_list cl  ON ( c.campaign_id = cl.campaign_id )  LEFT OUTER JOIN ts_map_list_status ls  ON (  cl.join_status = ls.status_id )  LEFT OUTER JOIN t_import_list iml  ON ( cl.import_id =  iml.import_id )  LEFT OUTER JOIN t_calllist_agent cla  ON ( c.campaign_id = cla.campaign_id AND cla.import_id = iml.import_id )  ) AS A  WHERE campaign_id = 12 GROUP BY campaign_id , campaign_name ,import_id ,list_name,list_detail,join_date,status_id,status_detail,status_color,total_list  ,other_list  ORDER BY  campaign_id , campaign_name ,import_id 
2024-04-28 20:26:40 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:26:40 [callList_process][query] query sql :   SELECT import_id , list_name , list_detail , i.create_date , first_name , last_name , total_records    FROM t_import_list  i LEFT OUTER JOIN t_agents a ON i.create_user = a.agent_id  WHERE i.list_name IS NOT NULL AND i.status != 0 ORDER BY create_date DESC  LIMIT 0 , 5
2024-04-28 20:26:43 [callList_process][detail] sql : 
2024-04-28 20:26:43 SELECT caption_index , caption_name  , field_name  FROM t_import_list_field  WHERE import_id = 242  AND field_name != '0'  ORDER BY caption_index
2024-04-28 20:26:47 [callList_process][detail] sql : 
2024-04-28 20:26:47 SELECT caption_index , caption_name  , field_name  FROM t_import_list_field  WHERE import_id = 245  AND field_name != '0'  ORDER BY caption_index
2024-04-28 20:27:03 [callList_process][detail] find dynamic column sql :  SELECT caption_name , field_name  FROM t_import_list_field  WHERE field_name != '0'  AND import_id  = 245  ORDER BY caption_index 
2024-04-28 20:27:04 [callList_process][export] sql :  SELECT import_id  , list_name , count( calllist_id ) as total_call ,  tmp.create_date  , sum( pvt_cnt ) as pvt_cnt  , sum( new_cnt ) as new_cnt  , sum( standard_cnt ) as standard_cnt  , sum( nonspon_cnt ) as nonspon_cnt  , sum( hot_cnt ) as hot_cnt  , sum( out_cnt ) as out_cnt  , sum( remain_cnt ) as remain_cnt  from (  select cl.import_id, cl.list_name, a.calllist_id, cl.create_date  ,case when ci.genesys_contactListId = '178b1b61-8199-4ce8-aa9f-6323e4a2bf61' then 1 else 0 end as nonspon_cnt  ,case when ci.genesys_contactListId = '2fa049b8-2dfc-4563-8129-9e023114834f' then 1 else 0 end as pvt_cnt  ,case when ci.genesys_contactListId = '0db0c348-303c-4cc4-ad51-16df95283e24' then 1 else 0 end as new_cnt  ,case when ci.genesys_contactListId = '82f47685-b7a4-47ec-8a81-82410be925f4' then 1 else 0 end as standard_cnt  ,case when ci.genesys_contactListId = 'edb2fbbf-ddf6-452a-883f-1ba985234ebc' then 1 else 0 end as hot_cnt  ,case when ci.genesys_contactListId = '35d02fd8-8fe2-43f6-a80c-8a17532cb9f6' then 1 else 0 end as out_cnt  ,case when ci.genesys_id is null then 1 else 0 end as remain_cnt  from t_calllist a  left outer join t_import_list cl on cl.import_id = a.import_id  left outer join t_calllist_integration ci on a.calllist_id = ci.calllist_id  where a.import_id =  245  ) as tmp
2024-04-28 20:27:04 [callList_process][detail] find dynamic column sql :  SELECT caption_name , field_name  FROM t_import_list_field  WHERE field_name != '0'  AND import_id  = 245  ORDER BY caption_index 
2024-04-28 20:27:09 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:27:09  SELECT campaign_id , campaign_name   FROM t_campaign  ORDER BY campaign_id 
2024-04-28 20:27:09 [distribute_process][init]  SELECT  l.campaign_id , l.import_id , c.campaign_name , i.list_name , i.list_detail  FROM t_campaign_list l  LEFT OUTER JOIN t_campaign c ON c.campaign_id = l.campaign_id  LEFT OUTER JOIN t_import_list i ON i.import_id = l.import_id 
2024-04-28 20:27:10 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:27:10 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,null,%'  ORDER BY seq_no 
2024-04-28 20:27:10 [call-pane_process][init] sql : SELECT COUNT(calllist_id) AS total , j.agent_id , c.campaign_id , c.campaign_name , c.campaign_detail, c.genesys_queueid, genesys_callback_queueid, c.campaign_type , last_join_date   , COUNT( a.CNT_NEW_LIST ) AS TOT_NEW_LIST  , COUNT( a.CNT_NOCONTACT ) AS TOT_NOCONTACT  , COUNT( a.CNT_CALLBACK ) AS TOT_CALLBACK  , COUNT( a.CNT_FOLLOWUP ) AS TOT_FOLLOWUP  FROM  t_campaign c  left outer join (  SELECT calllist_id , agent_id , campaign_id  ,CASE WHEN last_wrapup_option_id IS NULL THEN calllist_id END AS CNT_NEW_LIST  ,CASE WHEN last_wrapup_option_id = 1   THEN calllist_id END AS CNT_CALLBACK  ,CASE WHEN last_wrapup_option_id  IN ( 2,9 ) THEN calllist_id END AS CNT_FOLLOWUP  ,CASE WHEN last_wrapup_option_id = 8 THEN calllist_id END AS CNT_NOCONTACT  FROM t_calllist_agent  WHERE agent_id = 246 AND status = 1 ) a  on ( c.campaign_id = a.campaign_id ) left outer JOIN (SELECT agent_id,campaign_id,last_join_date FROM t_agent_join_campaign WHERE agent_id=246) j on ( c.campaign_id = j.campaign_id )  WHERE c.status=2  GROUP BY j.agent_id , c.campaign_id , c.campaign_name , c.campaign_detail , last_join_date
2024-04-28 20:27:11 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:27:11 [callList_process][query] query sql :   SELECT import_id , list_name , list_detail , i.create_date , first_name , last_name , total_records    FROM t_import_list  i LEFT OUTER JOIN t_agents a ON i.create_user = a.agent_id  WHERE i.list_name IS NOT NULL AND i.status != 0 ORDER BY create_date DESC  LIMIT 0 , 5
2024-04-28 20:27:12 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:27:12  SELECT campaign_id , campaign_name   FROM t_campaign  ORDER BY campaign_id 
2024-04-28 20:27:12 [distribute_process][init]  SELECT  l.campaign_id , l.import_id , c.campaign_name , i.list_name , i.list_detail  FROM t_campaign_list l  LEFT OUTER JOIN t_campaign c ON c.campaign_id = l.campaign_id  LEFT OUTER JOIN t_import_list i ON i.import_id = l.import_id 
2024-04-28 20:27:13 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:27:13 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,null,%'  ORDER BY seq_no 
2024-04-28 20:27:13 [call-pane_process][init] sql : SELECT COUNT(calllist_id) AS total , j.agent_id , c.campaign_id , c.campaign_name , c.campaign_detail, c.genesys_queueid, genesys_callback_queueid, c.campaign_type , last_join_date   , COUNT( a.CNT_NEW_LIST ) AS TOT_NEW_LIST  , COUNT( a.CNT_NOCONTACT ) AS TOT_NOCONTACT  , COUNT( a.CNT_CALLBACK ) AS TOT_CALLBACK  , COUNT( a.CNT_FOLLOWUP ) AS TOT_FOLLOWUP  FROM  t_campaign c  left outer join (  SELECT calllist_id , agent_id , campaign_id  ,CASE WHEN last_wrapup_option_id IS NULL THEN calllist_id END AS CNT_NEW_LIST  ,CASE WHEN last_wrapup_option_id = 1   THEN calllist_id END AS CNT_CALLBACK  ,CASE WHEN last_wrapup_option_id  IN ( 2,9 ) THEN calllist_id END AS CNT_FOLLOWUP  ,CASE WHEN last_wrapup_option_id = 8 THEN calllist_id END AS CNT_NOCONTACT  FROM t_calllist_agent  WHERE agent_id = 246 AND status = 1 ) a  on ( c.campaign_id = a.campaign_id ) left outer JOIN (SELECT agent_id,campaign_id,last_join_date FROM t_agent_join_campaign WHERE agent_id=246) j on ( c.campaign_id = j.campaign_id )  WHERE c.status=2  GROUP BY j.agent_id , c.campaign_id , c.campaign_name , c.campaign_detail , last_join_date
2024-04-28 20:27:14 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:27:14 [callList_process][query] query sql :   SELECT import_id , list_name , list_detail , i.create_date , first_name , last_name , total_records    FROM t_import_list  i LEFT OUTER JOIN t_agents a ON i.create_user = a.agent_id  WHERE i.list_name IS NOT NULL AND i.status != 0 ORDER BY create_date DESC  LIMIT 0 , 5
2024-04-28 20:27:16 [callList_process][query] query sql :   SELECT import_id , list_name , list_detail , i.create_date , first_name , last_name , total_records    FROM t_import_list  i LEFT OUTER JOIN t_agents a ON i.create_user = a.agent_id  WHERE i.list_name IS NOT NULL AND i.status != 0 ORDER BY create_date DESC  LIMIT 5 , 5
2024-04-28 20:27:22 [callList_process][detail] sql : 
2024-04-28 20:27:22 [callList_process][detail] sql : 
2024-04-28 20:27:22 SELECT caption_index , caption_name  , field_name  FROM t_import_list_field  WHERE import_id = 245  AND field_name != '0'  ORDER BY caption_index
2024-04-28 20:27:22 SELECT caption_index , caption_name  , field_name  FROM t_import_list_field  WHERE import_id = 245  AND field_name != '0'  ORDER BY caption_index
2024-04-28 20:27:24 [callList_process][detail] find dynamic column sql :  SELECT caption_name , field_name  FROM t_import_list_field  WHERE field_name != '0'  AND import_id  = 245  ORDER BY caption_index 
2024-04-28 20:27:32 [callList_process][dynsave] delete sql : DELETE FROM t_calllist WHERE calllist_id IN ( 971448) 
2024-04-28 20:27:32  fields : id_num,first_name,last_name,tel1
2024-04-28 20:27:32 field length : 4
2024-04-28 20:27:35 [callList_process][detail] find dynamic column sql :  SELECT caption_name , field_name  FROM t_import_list_field  WHERE field_name != '0'  AND import_id  = 245  ORDER BY caption_index 
2024-04-28 20:27:35 [callList_process][export] sql :  SELECT import_id  , list_name , count( calllist_id ) as total_call ,  tmp.create_date  , sum( pvt_cnt ) as pvt_cnt  , sum( new_cnt ) as new_cnt  , sum( standard_cnt ) as standard_cnt  , sum( nonspon_cnt ) as nonspon_cnt  , sum( hot_cnt ) as hot_cnt  , sum( out_cnt ) as out_cnt  , sum( remain_cnt ) as remain_cnt  from (  select cl.import_id, cl.list_name, a.calllist_id, cl.create_date  ,case when ci.genesys_contactListId = '178b1b61-8199-4ce8-aa9f-6323e4a2bf61' then 1 else 0 end as nonspon_cnt  ,case when ci.genesys_contactListId = '2fa049b8-2dfc-4563-8129-9e023114834f' then 1 else 0 end as pvt_cnt  ,case when ci.genesys_contactListId = '0db0c348-303c-4cc4-ad51-16df95283e24' then 1 else 0 end as new_cnt  ,case when ci.genesys_contactListId = '82f47685-b7a4-47ec-8a81-82410be925f4' then 1 else 0 end as standard_cnt  ,case when ci.genesys_contactListId = 'edb2fbbf-ddf6-452a-883f-1ba985234ebc' then 1 else 0 end as hot_cnt  ,case when ci.genesys_contactListId = '35d02fd8-8fe2-43f6-a80c-8a17532cb9f6' then 1 else 0 end as out_cnt  ,case when ci.genesys_id is null then 1 else 0 end as remain_cnt  from t_calllist a  left outer join t_import_list cl on cl.import_id = a.import_id  left outer join t_calllist_integration ci on a.calllist_id = ci.calllist_id  where a.import_id =  245  ) as tmp
2024-04-28 20:27:41 [callList_process][exportgenesys] sql :  SELECT a.calllist_id as 'Customer ID', CONCAT(first_name,' ',last_name) as 'Name', tel1 as 'Phone', '' as 'Email' from t_calllist a  left outer join t_calllist_integration ci on a.calllist_id = ci.calllist_id  where ci.genesys_id is null and a.import_id =  245 order by a.calllist_id limit 0 , 10 
2024-04-28 20:29:35 [callList_process][updatelist] update sql : UPDATE t_import_list SET  list_name = 'listTest2024', list_detail =  '202403', list_comment = '202404',  is_count = 1,  genesys_campaign_name = null,  genesys_campaign_id = null,  genesys_list_name = 'ListTest',  genesys_list_id = 'fc713521-74f6-49c9-b3c2-aab2baf06e02',  genesys_queue_name = null,  genesys_queue_id = null,  `status` = 1 ,  update_date =NOW(), update_user =246  WHERE import_id = 245
2024-04-28 20:29:35 [callList_process][query] query sql :   SELECT import_id , list_name , list_detail , i.create_date , first_name , last_name , total_records    FROM t_import_list  i LEFT OUTER JOIN t_agents a ON i.create_user = a.agent_id  WHERE i.list_name IS NOT NULL AND i.status != 0 ORDER BY create_date DESC  LIMIT 10 , 5
2024-04-28 20:29:35 [callList_process][detail] sql : 
2024-04-28 20:29:36 SELECT caption_index , caption_name  , field_name  FROM t_import_list_field  WHERE import_id = 245  AND field_name != '0'  ORDER BY caption_index
2024-04-28 20:31:10 [callList_process][detail] find dynamic column sql :  SELECT caption_name , field_name  FROM t_import_list_field  WHERE field_name != '0'  AND import_id  = 245  ORDER BY caption_index 
2024-04-28 20:31:13 [callList_process][export] sql :  SELECT import_id  , list_name , count( calllist_id ) as total_call ,  tmp.create_date  , sum( pvt_cnt ) as pvt_cnt  , sum( new_cnt ) as new_cnt  , sum( standard_cnt ) as standard_cnt  , sum( nonspon_cnt ) as nonspon_cnt  , sum( hot_cnt ) as hot_cnt  , sum( out_cnt ) as out_cnt  , sum( remain_cnt ) as remain_cnt  from (  select cl.import_id, cl.list_name, a.calllist_id, cl.create_date  ,case when ci.genesys_contactListId = '178b1b61-8199-4ce8-aa9f-6323e4a2bf61' then 1 else 0 end as nonspon_cnt  ,case when ci.genesys_contactListId = '2fa049b8-2dfc-4563-8129-9e023114834f' then 1 else 0 end as pvt_cnt  ,case when ci.genesys_contactListId = '0db0c348-303c-4cc4-ad51-16df95283e24' then 1 else 0 end as new_cnt  ,case when ci.genesys_contactListId = '82f47685-b7a4-47ec-8a81-82410be925f4' then 1 else 0 end as standard_cnt  ,case when ci.genesys_contactListId = 'edb2fbbf-ddf6-452a-883f-1ba985234ebc' then 1 else 0 end as hot_cnt  ,case when ci.genesys_contactListId = '35d02fd8-8fe2-43f6-a80c-8a17532cb9f6' then 1 else 0 end as out_cnt  ,case when ci.genesys_id is null then 1 else 0 end as remain_cnt  from t_calllist a  left outer join t_import_list cl on cl.import_id = a.import_id  left outer join t_calllist_integration ci on a.calllist_id = ci.calllist_id  where a.import_id =  245  ) as tmp
2024-04-28 20:31:27 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:31:27 [callList_process][query] query sql :   SELECT import_id , list_name , list_detail , i.create_date , first_name , last_name , total_records    FROM t_import_list  i LEFT OUTER JOIN t_agents a ON i.create_user = a.agent_id  WHERE i.list_name IS NOT NULL AND i.status != 0 ORDER BY create_date DESC  LIMIT 0 , 5
2024-04-28 20:31:28 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:31:28  SELECT campaign_id , campaign_name   FROM t_campaign  ORDER BY campaign_id 
2024-04-28 20:31:28 [distribute_process][init]  SELECT  l.campaign_id , l.import_id , c.campaign_name , i.list_name , i.list_detail  FROM t_campaign_list l  LEFT OUTER JOIN t_campaign c ON c.campaign_id = l.campaign_id  LEFT OUTER JOIN t_import_list i ON i.import_id = l.import_id 
2024-04-28 20:31:29 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:31:29 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,null,%'  ORDER BY seq_no 
2024-04-28 20:31:29 [call-pane_process][init] sql : SELECT COUNT(calllist_id) AS total , j.agent_id , c.campaign_id , c.campaign_name , c.campaign_detail, c.genesys_queueid, genesys_callback_queueid, c.campaign_type , last_join_date   , COUNT( a.CNT_NEW_LIST ) AS TOT_NEW_LIST  , COUNT( a.CNT_NOCONTACT ) AS TOT_NOCONTACT  , COUNT( a.CNT_CALLBACK ) AS TOT_CALLBACK  , COUNT( a.CNT_FOLLOWUP ) AS TOT_FOLLOWUP  FROM  t_campaign c  left outer join (  SELECT calllist_id , agent_id , campaign_id  ,CASE WHEN last_wrapup_option_id IS NULL THEN calllist_id END AS CNT_NEW_LIST  ,CASE WHEN last_wrapup_option_id = 1   THEN calllist_id END AS CNT_CALLBACK  ,CASE WHEN last_wrapup_option_id  IN ( 2,9 ) THEN calllist_id END AS CNT_FOLLOWUP  ,CASE WHEN last_wrapup_option_id = 8 THEN calllist_id END AS CNT_NOCONTACT  FROM t_calllist_agent  WHERE agent_id = 246 AND status = 1 ) a  on ( c.campaign_id = a.campaign_id ) left outer JOIN (SELECT agent_id,campaign_id,last_join_date FROM t_agent_join_campaign WHERE agent_id=246) j on ( c.campaign_id = j.campaign_id )  WHERE c.status=2  GROUP BY j.agent_id , c.campaign_id , c.campaign_name , c.campaign_detail , last_join_date
2024-04-28 20:31:33 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:31:33 [callList_process][query] query sql :   SELECT import_id , list_name , list_detail , i.create_date , first_name , last_name , total_records    FROM t_import_list  i LEFT OUTER JOIN t_agents a ON i.create_user = a.agent_id  WHERE i.list_name IS NOT NULL AND i.status != 0 ORDER BY create_date DESC  LIMIT 0 , 5
2024-04-28 20:31:36 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:31:44 [campaign-pane_process][detail] query detail :  SELECT campaign_id,campaign_name,campaign_detail,campaign_type, app_id , maximum_call, genesys_queueid, genesys_campaignid , start_date,end_date, c.status, st.status_detail, st.status_color , c.script_id,s.script_detail,  a.first_name , a.last_name , c.create_date  FROM t_campaign c LEFT OUTER JOIN t_callscript s ON c.script_id = s.script_id  LEFT OUTER JOIN ts_campaign_status st ON c.status = st.status_id  LEFT OUTER JOIN t_agents a ON a.agent_id = c.create_user  WHERE campaign_id = 1 
2024-04-28 20:31:44 [campaign-pane_process][detail]  SELECT campaign_id , campaign_name ,import_id ,list_name,list_detail,join_date,status_id,status_detail,status_color, total_list  , other_list  , COUNT( DISTINCT assign_list ) AS assign_list  , SUM( unassign_list ) AS unassign_list  FROM (  SELECT c.campaign_id , c.campaign_name , cl.import_id  , iml.list_name  ,iml.list_detail , cl.join_date  , cl.join_status as status_id ,ls.status_detail as status_detail , ls.status_color  ,cla.calllist_id  , iml.total_records as total_list  , ( iml.bad_list + iml.inlist_dup + iml.indb_dup ) as other_list  ,CASE WHEN cla.agent_id  IS NOT NULL THEN cla.calllist_id END AS assign_list  ,CASE WHEN cla.assign_dt IS NULL AND cl.import_id  IS NOT NULL THEN 1 else 0 END AS unassign_list  FROM t_campaign c LEFT OUTER JOIN t_campaign_list cl  ON ( c.campaign_id = cl.campaign_id )  LEFT OUTER JOIN ts_map_list_status ls  ON (  cl.join_status = ls.status_id )  LEFT OUTER JOIN t_import_list iml  ON ( cl.import_id =  iml.import_id )  LEFT OUTER JOIN t_calllist_agent cla  ON ( c.campaign_id = cla.campaign_id AND cla.import_id = iml.import_id )  ) AS A  WHERE campaign_id = 1 GROUP BY campaign_id , campaign_name ,import_id ,list_name,list_detail,join_date,status_id,status_detail,status_color,total_list  ,other_list  ORDER BY  campaign_id , campaign_name ,import_id 
2024-04-28 20:31:45 [campaign-pane_process][select_wrapup] sql :  SELECT wrapup_code , wrapup_dtl , parent_code , seq_no , `status` , remove_list , option_id, genesys_wrapup_id  FROM t_wrapup_code WHERE campaign_id like '%1%'  
2024-04-28 20:31:48 [campaign-pane_process][select_wrapup] sql :  SELECT wrapup_code , wrapup_dtl , parent_code , seq_no , `status` , remove_list , option_id, genesys_wrapup_id  FROM t_wrapup_code WHERE campaign_id like '%1%'  
2024-04-28 20:32:01 [campaign-pane_process][save_wrapup] update wrapup sql : UPDATE t_wrapup_code SET wrapup_dtl ='Level 3-ไม่ต้องตรวจสุขภาพ',genesys_wrapup_id ='9ace0a02-d18e-449f-95a6-060284368cbd',parent_code ='71',seq_no =6,status =1,remove_list =1,option_id =4 WHERE wrapup_code = '12' 
2024-04-28 20:32:01 [campaign-pane_process][select_wrapup] sql :  SELECT wrapup_code , wrapup_dtl , parent_code , seq_no , `status` , remove_list , option_id, genesys_wrapup_id  FROM t_wrapup_code WHERE campaign_id like '%1%'  
2024-04-28 20:32:06 [campaign-pane_process][save_wrapup] update wrapup sql : UPDATE t_wrapup_code SET wrapup_dtl ='Level 3-ไม่ต้องตรวจสุขภาพ',genesys_wrapup_id ='9ace0a02-d18e-449f-95a6-060284368cbd',parent_code ='71',seq_no =6,status =1,remove_list =1,option_id =6 WHERE wrapup_code = '12' 
2024-04-28 20:32:06 [campaign-pane_process][select_wrapup] sql :  SELECT wrapup_code , wrapup_dtl , parent_code , seq_no , `status` , remove_list , option_id, genesys_wrapup_id  FROM t_wrapup_code WHERE campaign_id like '%1%'  
2024-04-28 20:32:09 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:32:11 [campaign-pane_process][detail] query detail :  SELECT campaign_id,campaign_name,campaign_detail,campaign_type, app_id , maximum_call, genesys_queueid, genesys_campaignid , start_date,end_date, c.status, st.status_detail, st.status_color , c.script_id,s.script_detail,  a.first_name , a.last_name , c.create_date  FROM t_campaign c LEFT OUTER JOIN t_callscript s ON c.script_id = s.script_id  LEFT OUTER JOIN ts_campaign_status st ON c.status = st.status_id  LEFT OUTER JOIN t_agents a ON a.agent_id = c.create_user  WHERE campaign_id = 1 
2024-04-28 20:32:11 [campaign-pane_process][detail]  SELECT campaign_id , campaign_name ,import_id ,list_name,list_detail,join_date,status_id,status_detail,status_color, total_list  , other_list  , COUNT( DISTINCT assign_list ) AS assign_list  , SUM( unassign_list ) AS unassign_list  FROM (  SELECT c.campaign_id , c.campaign_name , cl.import_id  , iml.list_name  ,iml.list_detail , cl.join_date  , cl.join_status as status_id ,ls.status_detail as status_detail , ls.status_color  ,cla.calllist_id  , iml.total_records as total_list  , ( iml.bad_list + iml.inlist_dup + iml.indb_dup ) as other_list  ,CASE WHEN cla.agent_id  IS NOT NULL THEN cla.calllist_id END AS assign_list  ,CASE WHEN cla.assign_dt IS NULL AND cl.import_id  IS NOT NULL THEN 1 else 0 END AS unassign_list  FROM t_campaign c LEFT OUTER JOIN t_campaign_list cl  ON ( c.campaign_id = cl.campaign_id )  LEFT OUTER JOIN ts_map_list_status ls  ON (  cl.join_status = ls.status_id )  LEFT OUTER JOIN t_import_list iml  ON ( cl.import_id =  iml.import_id )  LEFT OUTER JOIN t_calllist_agent cla  ON ( c.campaign_id = cla.campaign_id AND cla.import_id = iml.import_id )  ) AS A  WHERE campaign_id = 1 GROUP BY campaign_id , campaign_name ,import_id ,list_name,list_detail,join_date,status_id,status_detail,status_color,total_list  ,other_list  ORDER BY  campaign_id , campaign_name ,import_id 
2024-04-28 20:32:45 [campaign-pane_process][save_list] insert sql : INSERT INTO t_campaign_list( campaign_id , import_id , join_status ,  join_user , join_date) VALUES (  1 ,24 , 2 ,246 , NOW() )  
2024-04-28 20:32:45 [campaign-pane_process][detail] query detail :  SELECT campaign_id,campaign_name,campaign_detail,campaign_type, app_id , maximum_call, genesys_queueid, genesys_campaignid , start_date,end_date, c.status, st.status_detail, st.status_color , c.script_id,s.script_detail,  a.first_name , a.last_name , c.create_date  FROM t_campaign c LEFT OUTER JOIN t_callscript s ON c.script_id = s.script_id  LEFT OUTER JOIN ts_campaign_status st ON c.status = st.status_id  LEFT OUTER JOIN t_agents a ON a.agent_id = c.create_user  WHERE campaign_id = 1 
2024-04-28 20:32:45 [campaign-pane_process][detail]  SELECT campaign_id , campaign_name ,import_id ,list_name,list_detail,join_date,status_id,status_detail,status_color, total_list  , other_list  , COUNT( DISTINCT assign_list ) AS assign_list  , SUM( unassign_list ) AS unassign_list  FROM (  SELECT c.campaign_id , c.campaign_name , cl.import_id  , iml.list_name  ,iml.list_detail , cl.join_date  , cl.join_status as status_id ,ls.status_detail as status_detail , ls.status_color  ,cla.calllist_id  , iml.total_records as total_list  , ( iml.bad_list + iml.inlist_dup + iml.indb_dup ) as other_list  ,CASE WHEN cla.agent_id  IS NOT NULL THEN cla.calllist_id END AS assign_list  ,CASE WHEN cla.assign_dt IS NULL AND cl.import_id  IS NOT NULL THEN 1 else 0 END AS unassign_list  FROM t_campaign c LEFT OUTER JOIN t_campaign_list cl  ON ( c.campaign_id = cl.campaign_id )  LEFT OUTER JOIN ts_map_list_status ls  ON (  cl.join_status = ls.status_id )  LEFT OUTER JOIN t_import_list iml  ON ( cl.import_id =  iml.import_id )  LEFT OUTER JOIN t_calllist_agent cla  ON ( c.campaign_id = cla.campaign_id AND cla.import_id = iml.import_id )  ) AS A  WHERE campaign_id = 1 GROUP BY campaign_id , campaign_name ,import_id ,list_name,list_detail,join_date,status_id,status_detail,status_color,total_list  ,other_list  ORDER BY  campaign_id , campaign_name ,import_id 
2024-04-28 20:33:03 [campaign-pane_process][save_list] insert sql : INSERT INTO t_campaign_list( campaign_id , import_id , join_status ,  join_user , join_date) VALUES (  1 ,25 , 2 ,246 , NOW() )  
2024-04-28 20:33:03 [campaign-pane_process][detail] query detail :  SELECT campaign_id,campaign_name,campaign_detail,campaign_type, app_id , maximum_call, genesys_queueid, genesys_campaignid , start_date,end_date, c.status, st.status_detail, st.status_color , c.script_id,s.script_detail,  a.first_name , a.last_name , c.create_date  FROM t_campaign c LEFT OUTER JOIN t_callscript s ON c.script_id = s.script_id  LEFT OUTER JOIN ts_campaign_status st ON c.status = st.status_id  LEFT OUTER JOIN t_agents a ON a.agent_id = c.create_user  WHERE campaign_id = 1 
2024-04-28 20:33:03 [campaign-pane_process][detail]  SELECT campaign_id , campaign_name ,import_id ,list_name,list_detail,join_date,status_id,status_detail,status_color, total_list  , other_list  , COUNT( DISTINCT assign_list ) AS assign_list  , SUM( unassign_list ) AS unassign_list  FROM (  SELECT c.campaign_id , c.campaign_name , cl.import_id  , iml.list_name  ,iml.list_detail , cl.join_date  , cl.join_status as status_id ,ls.status_detail as status_detail , ls.status_color  ,cla.calllist_id  , iml.total_records as total_list  , ( iml.bad_list + iml.inlist_dup + iml.indb_dup ) as other_list  ,CASE WHEN cla.agent_id  IS NOT NULL THEN cla.calllist_id END AS assign_list  ,CASE WHEN cla.assign_dt IS NULL AND cl.import_id  IS NOT NULL THEN 1 else 0 END AS unassign_list  FROM t_campaign c LEFT OUTER JOIN t_campaign_list cl  ON ( c.campaign_id = cl.campaign_id )  LEFT OUTER JOIN ts_map_list_status ls  ON (  cl.join_status = ls.status_id )  LEFT OUTER JOIN t_import_list iml  ON ( cl.import_id =  iml.import_id )  LEFT OUTER JOIN t_calllist_agent cla  ON ( c.campaign_id = cla.campaign_id AND cla.import_id = iml.import_id )  ) AS A  WHERE campaign_id = 1 GROUP BY campaign_id , campaign_name ,import_id ,list_name,list_detail,join_date,status_id,status_detail,status_color,total_list  ,other_list  ORDER BY  campaign_id , campaign_name ,import_id 
2024-04-28 20:33:06 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:33:06 [callList_process][query] query sql :   SELECT import_id , list_name , list_detail , i.create_date , first_name , last_name , total_records    FROM t_import_list  i LEFT OUTER JOIN t_agents a ON i.create_user = a.agent_id  WHERE i.list_name IS NOT NULL AND i.status != 0 ORDER BY create_date DESC  LIMIT 0 , 5
2024-04-28 20:33:07 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
2024-04-28 20:33:07  SELECT campaign_id , campaign_name   FROM t_campaign  ORDER BY campaign_id 
2024-04-28 20:33:07 [distribute_process][init]  SELECT  l.campaign_id , l.import_id , c.campaign_name , i.list_name , i.list_detail  FROM t_campaign_list l  LEFT OUTER JOIN t_campaign c ON c.campaign_id = l.campaign_id  LEFT OUTER JOIN t_import_list i ON i.import_id = l.import_id 
2024-04-28 20:33:08 session : SELECT tokenid  FROM t_session  WHERE agent_id = 246
