2024-05-23 13:45:15  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 174 
2024-05-23 13:45:18 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_id = '174' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 13:45:18 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 13:45:18 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 174 AND ip_addr != '192.168.113.9' 
2024-05-23 13:45:18 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 174
2024-05-23 13:45:18 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '174','192.168.113.9', '664ee5fe46d2c' , NOW() );
2024-05-23 13:45:18 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '174','192.168.113.9', 'Login' , NOW() );
2024-05-23 13:45:18 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 13:45:19 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 174 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 13:45:19 page: 0
2024-05-23 13:45:19 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 174 )  ORDER BY n.create_date DESC 
2024-05-23 13:45:21 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 13:45:21 [call-pane_process][init] sql : SELECT COUNT(calllist_id) AS total , j.agent_id , c.campaign_id , c.campaign_name , c.campaign_detail, c.genesys_queueid, genesys_callback_queueid, c.campaign_type , last_join_date   , COUNT( a.CNT_NEW_LIST ) AS TOT_NEW_LIST  , COUNT( a.CNT_NOCONTACT ) AS TOT_NOCONTACT  , COUNT( a.CNT_CALLBACK ) AS TOT_CALLBACK  , COUNT( a.CNT_FOLLOWUP ) AS TOT_FOLLOWUP  FROM  t_campaign c  left outer join (  SELECT calllist_id , agent_id , campaign_id  ,CASE WHEN last_wrapup_option_id IS NULL THEN calllist_id END AS CNT_NEW_LIST  ,CASE WHEN last_wrapup_option_id = 1   THEN calllist_id END AS CNT_CALLBACK  ,CASE WHEN last_wrapup_option_id  IN ( 2,9 ) THEN calllist_id END AS CNT_FOLLOWUP  ,CASE WHEN last_wrapup_option_id = 8 THEN calllist_id END AS CNT_NOCONTACT  FROM t_calllist_agent  WHERE agent_id = 174 AND status = 1 ) a  on ( c.campaign_id = a.campaign_id ) left outer JOIN (SELECT agent_id,campaign_id,last_join_date FROM t_agent_join_campaign WHERE agent_id=174) j on ( c.campaign_id = j.campaign_id )  WHERE c.status=2  GROUP BY j.agent_id , c.campaign_id , c.campaign_name , c.campaign_detail , last_join_date
2024-05-23 13:45:21 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,null,%'  ORDER BY seq_no 
2024-05-23 13:45:52 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 13:45:52 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 13:45:52 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 13:45:52 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 13:46:19 SELECT  first_name, last_name, tel1, status,conCallistid FROM t_calllist WHERE calllist_id =  968300 
2024-05-23 13:46:19  SELECT a.last_wrapup_dt ,  r.reminder_dt   FROM t_calllist_agent a LEFT OUTER JOIN t_reminder r ON a.reminder_id = r.reminder_id  WHERE a.campaign_id = 41   AND a.agent_id =  174 AND a.calllist_id = 968300
2024-05-23 13:46:19 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 13:46:19 [call-pane_process][loadpopup_content] cal history sql :  SELECT t.create_date , t.wrapup_id , t.wrapup_note  FROM t_call_trans t  WHERE t.agent_id = 174  AND t.campaign_id = 41  AND t.calllist_id = 968300 ORDER BY t.create_date DESC 
2024-05-23 13:46:19 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 70
2024-05-23 13:46:19 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 75
2024-05-23 13:46:19 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 26
2024-05-23 13:46:19 [call-pane_process][loadexternal_app] sql :  SELECT ex_app_name , ex_app_url , ex_app_icon  FROM t_external_app_register  WHERE campaign_id =  41   AND is_active = 1 
2024-05-23 13:59:17  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 174 
2024-05-23 13:59:27 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 13:59:27 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 13:59:27 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.9' 
2024-05-23 13:59:27 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 13:59:27 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.9', '664ee94f0df20' , NOW() );
2024-05-23 13:59:27 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.9', 'Login' , NOW() );
2024-05-23 13:59:27 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 13:59:27 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 13:59:27 page: 0
2024-05-23 13:59:27 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 13:59:29 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 13:59:29 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 13:59:29 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 14:02:01  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 14:02:15 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'demo1' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 14:02:15 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 14:02:15 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 174 AND ip_addr != '192.168.113.9' 
2024-05-23 14:02:15 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 174
2024-05-23 14:02:15 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '174','192.168.113.9', '664ee9f7eaeea' , NOW() );
2024-05-23 14:02:15 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '174','192.168.113.9', 'Login' , NOW() );
2024-05-23 14:02:16 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 14:02:16 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 174 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 14:02:16 page: 0
2024-05-23 14:02:16 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 174 )  ORDER BY n.create_date DESC 
2024-05-23 14:02:23 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 14:02:23 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 14:02:23 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 14:02:23 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 14:02:23 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 14:02:23 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 14:02:29 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 14:02:29 SELECT  first_name, last_name, tel1, status,conCallistid FROM t_calllist WHERE calllist_id =  968300 
2024-05-23 14:02:29  SELECT a.last_wrapup_dt ,  r.reminder_dt   FROM t_calllist_agent a LEFT OUTER JOIN t_reminder r ON a.reminder_id = r.reminder_id  WHERE a.campaign_id = 41   AND a.agent_id =  174 AND a.calllist_id = 968300
2024-05-23 14:02:29 [call-pane_process][loadpopup_content] cal history sql :  SELECT t.create_date , t.wrapup_id , t.wrapup_note  FROM t_call_trans t  WHERE t.agent_id = 174  AND t.campaign_id = 41  AND t.calllist_id = 968300 ORDER BY t.create_date DESC 
2024-05-23 14:02:29 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 70
2024-05-23 14:02:29 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 75
2024-05-23 14:02:29 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 26
2024-05-23 14:02:29 [call-pane_process][loadexternal_app] sql :  SELECT ex_app_name , ex_app_url , ex_app_icon  FROM t_external_app_register  WHERE campaign_id =  41   AND is_active = 1 
2024-05-23 14:02:31 [call-pane_process][getQueueFromCalllist] sql : SELECT il.import_id,c.campaign_id,c.campaign_name,c.campaign_type,IF(il.genesys_queue_id IS NOT NULL,il.genesys_queue_id,c.genesys_queueid) AS genesys_queue_id,c.genesys_callback_queueid
	FROM t_calllist l 
	INNER JOIN t_import_list il ON l.import_id = il.import_id
	INNER JOIN t_campaign_list cl ON il.import_id = cl.import_id
	INNER JOIN t_campaign c ON cl.campaign_id = c.campaign_id
	WHERE l.calllist_id = '968300'
2024-05-23 14:02:31 [call-pane_process][addCallTrans] sql : CALL sp_call_trans ('45ce24df-ea57-468a-930f-f9a7568afbeb',41,174,968300,null,null,null,null)
2024-05-23 14:04:12 save_wrapup_data : queueid=b65ec790-6a8a-4eed-a6cd-0777f4944dc0 queuecallbackid=
2024-05-23 14:04:14 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/calls/45ce24df-ea57-468a-930f-f9a7568afbeb
2024-05-23 14:04:14 [genesys][log]  data : 
2024-05-23 14:04:15 [genesys][log]  return data : {"id":"45ce24df-ea57-468a-930f-f9a7568afbeb","participants":[{"id":"e932dc2f-71ec-4c87-a757-6ca5f5844a1c","address":"sip:651552cdd152a71ab0b6f258+arkinsightsbpo.orgspan.com@localhost","startTime":"2024-05-23T07:02:31.405Z","endTime":"2024-05-23T07:03:31.420Z","purpose":"agent","state":"terminated","direction":"outbound","disconnectType":"endpoint","held":false,"wrapupRequired":true,"wrapupPrompt":"timeout","mediaRoles":["full"],"user":{"id":"c0022e04-d981-4af2-8a54-884b4cd9d358","selfUri":"/api/v2/users/c0022e04-d981-4af2-8a54-884b4cd9d358"},"queue":{"id":"b65ec790-6a8a-4eed-a6cd-0777f4944dc0","selfUri":"/api/v2/routing/queues/b65ec790-6a8a-4eed-a6cd-0777f4944dc0"},"attributes":{},"errorInfo":{"message":"session 7a0dd06e-7590-425d-a728-d94b2e8085c9 is inactive for command cloud.command.disconnect","code":"error.ininedgecontrol.session.inactive","messageWithParams":"session {sessionId} is inactive for command {type}","messageParams":{"sessionId":"7a0dd06e-7590-425d-a728-d94b2e8085c9","type":"cloud.command.disconnect"},"details":[],"errors":[]},"script":{"id":"fe0e5fb9-ce09-4cdd-84bb-c38879b0dafe","selfUri":"/api/v2/scripts/fe0e5fb9-ce09-4cdd-84bb-c38879b0dafe"},"wrapupTimeoutMs":120000,"provider":"Edge","startAcwTime":"2024-05-23T07:03:31.420Z","muted":false,"confined":false,"recording":false,"recordingState":"none","ani":"sip:651552cdd152a71ab0b6f258+arkinsightsbpo.orgspan.com@localhost","dnis":"tel:+66989156291","securePause":false}],"otherMediaUris":[],"recentTransfers":[],"utilizationLabelId":"631f0939-be32-495a-baf9-970abb039192","recordingState":"none","securePause":false,"selfUri":"/api/v2/conversations/calls/45ce24df-ea57-468a-930f-f9a7568afbeb"}
2024-05-23 14:04:15 [call-pane_process][bypass_save_wrapup] update last wrapup :  UPDATE t_calllist_agent SET  agent_id = 174 WHERE campaign_id =  41  AND calllist_id = 968300
2024-05-23 14:04:15 [call-pane_process][save_wrapup] check remove list from working list sql : SELECT remove_list, option_id, genesys_wrapup_id FROM t_wrapup_code WHERE wrapup_code = 49  
2024-05-23 14:04:15 [call-pane_process][save_wrapup] update current call transaction sql :UPDATE t_call_trans SET  import_id ='130', wrapup_id ='80|84|49', wrapup_note =null, wrapup_option_id =8, update_date =NOW()  WHERE voice_id =  '45ce24df-ea57-468a-930f-f9a7568afbeb'
2024-05-23 14:04:15 [call-pane_process][save_wrapup] select unique id sql :SELECT uniqueid FROM t_call_trans WHERE uniqueid = null
2024-05-23 14:04:15 [call-pane_process][save_wrapup] update last wrapup :  UPDATE t_calllist_agent SET  import_id ='130', last_wrapup_id = '80|84|49', last_wrapup_detail = null, last_wrapup_option_id = 8, last_wrapup_dt = NOW() , number_of_call = number_of_call + 1 WHERE campaign_id =  41  AND calllist_id = 968300  AND agent_id = 174 
2024-05-23 14:04:15 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/45ce24df-ea57-468a-930f-f9a7568afbeb/participants/e932dc2f-71ec-4c87-a757-6ca5f5844a1c
2024-05-23 14:04:15 [genesys][log]  data : stdClass Object
(
    [wrapup] => stdClass Object
        (
            [code] => 8f2eb4ce-d32b-4953-b880-805f670b02d0
        )

)

2024-05-23 14:04:15 [genesys][log]  return data : {}
2024-05-23 14:04:15 [call-pane_process][save_wrapup] update last wrapup :  UPDATE t_calllist_agent a  , t_campaign b  SET a.status = 0  WHERE a.campaign_id = b.campaign_id  and ifnull(b.maximum_call,0) > 0  and a.number_of_call >= ifnull(b.maximum_call,0)  and a.campaign_id =  41  AND a.calllist_id = 968300  AND a.agent_id = 174 
2024-05-23 14:04:15 [call-pane_process][wrapupCallStatus] sql : CALL sp_wrapup_call_status (41,968300,174,49)
2024-05-23 14:04:15 [call-pane_process][getCalllistDetail] sql : SELECT il.import_id,c.campaign_id,c.campaign_name,c.campaign_type,IF(il.genesys_queue_id IS NOT NULL,il.genesys_queue_id,c.genesys_queueid) AS genesys_queue_id,c.genesys_callback_queueid
	FROM t_calllist l 
	LEFT JOIN t_calllist_integration ci ON l.calllist_id = ci.calllist_id
	INNER JOIN t_import_list il ON l.import_id = il.import_id
	INNER JOIN t_campaign_list cl ON il.import_id = cl.import_id
	INNER JOIN t_campaign c ON cl.campaign_id = c.campaign_id
	WHERE ci.genesys_id = '968300' OR l.calllist_id = '968300'
2024-05-23 14:04:15 [call=pane_process][integration] geneRemoveQueue : sql=SELECT COUNT(DISTINCT calllist_id) AS call_count, IFNULL(c.lead_limit,0) AS lead_limit, a.genesysid AS user_genesysid, c.genesys_queueid 
	FROM t_call_trans t INNER JOIN t_agents a ON t.agent_id = a.agent_id
	INNER JOIN t_campaign c ON t.campaign_id = c.campaign_id
	WHERE t.agent_id = '174' AND t.campaign_id = '41' AND DATE(t.create_date) = CURDATE() AND 1 = 
	(IF(
		EXISTS(
		  SELECT 1
		  FROM t_call_trans h
		  WHERE DATE(h.create_date) < DATE(t.create_date) AND h.calllist_id = t.calllist_id
		),
		'0',
		'1'
	 ))
2024-05-23 14:04:15 [call=pane_process][integration] geneRemoveQueue Result: genesys_queue_id=b65ec790-6a8a-4eed-a6cd-0777f4944dc0 call_count=0 lead_limit=0 genesys_queueid=
2024-05-23 14:04:15 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 14:04:15 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 14:04:15 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 14:04:15 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 14:04:36 SELECT  first_name, last_name, tel1, status,conCallistid FROM t_calllist WHERE calllist_id =  968300 
2024-05-23 14:04:36  SELECT a.last_wrapup_dt ,  r.reminder_dt   FROM t_calllist_agent a LEFT OUTER JOIN t_reminder r ON a.reminder_id = r.reminder_id  WHERE a.campaign_id = 41   AND a.agent_id =  174 AND a.calllist_id = 968300
2024-05-23 14:04:36 [call-pane_process][loadpopup_content] cal history sql :  SELECT t.create_date , t.wrapup_id , t.wrapup_note  FROM t_call_trans t  WHERE t.agent_id = 174  AND t.campaign_id = 41  AND t.calllist_id = 968300 ORDER BY t.create_date DESC 
2024-05-23 14:04:37 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 14:04:37 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 80
2024-05-23 14:04:37 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 84
2024-05-23 14:04:37 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 49
2024-05-23 14:04:37 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 70
2024-05-23 14:04:37 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 75
2024-05-23 14:04:37 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 26
2024-05-23 14:04:37 [call-pane_process][loadexternal_app] sql :  SELECT ex_app_name , ex_app_url , ex_app_icon  FROM t_external_app_register  WHERE campaign_id =  41   AND is_active = 1 
2024-05-23 14:04:39 [call-pane_process][getQueueFromCalllist] sql : SELECT il.import_id,c.campaign_id,c.campaign_name,c.campaign_type,IF(il.genesys_queue_id IS NOT NULL,il.genesys_queue_id,c.genesys_queueid) AS genesys_queue_id,c.genesys_callback_queueid
	FROM t_calllist l 
	INNER JOIN t_import_list il ON l.import_id = il.import_id
	INNER JOIN t_campaign_list cl ON il.import_id = cl.import_id
	INNER JOIN t_campaign c ON cl.campaign_id = c.campaign_id
	WHERE l.calllist_id = '968300'
2024-05-23 14:04:40 [call-pane_process][addCallTrans] sql : CALL sp_call_trans ('e6e6c356-776f-4238-b789-47d5e22363b9',41,174,968300,null,null,null,null)
2024-05-23 14:06:07 save_wrapup_data : queueid=b65ec790-6a8a-4eed-a6cd-0777f4944dc0 queuecallbackid=
2024-05-23 14:06:08 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/calls/e6e6c356-776f-4238-b789-47d5e22363b9
2024-05-23 14:06:08 [genesys][log]  data : 
2024-05-23 14:06:09 [genesys][log]  return data : {"id":"e6e6c356-776f-4238-b789-47d5e22363b9","participants":[{"id":"21521c2b-b24f-4ced-89a0-31ec1df1a558","address":"sip:651552cdd152a71ab0b6f258+arkinsightsbpo.orgspan.com@localhost","startTime":"2024-05-23T07:04:39.773Z","connectedTime":"2024-05-23T07:04:47.421Z","endTime":"2024-05-23T07:05:31.460Z","purpose":"agent","state":"terminated","direction":"outbound","disconnectType":"peer","held":false,"wrapupRequired":true,"wrapupPrompt":"timeout","mediaRoles":["full"],"user":{"id":"c0022e04-d981-4af2-8a54-884b4cd9d358","selfUri":"/api/v2/users/c0022e04-d981-4af2-8a54-884b4cd9d358"},"queue":{"id":"b65ec790-6a8a-4eed-a6cd-0777f4944dc0","selfUri":"/api/v2/routing/queues/b65ec790-6a8a-4eed-a6cd-0777f4944dc0"},"attributes":{},"errorInfo":{"message":"session d2beb4fc-357d-4807-aa73-de5ff9acabc5 is inactive for command cloud.command.disconnect","code":"error.ininedgecontrol.session.inactive","messageWithParams":"session {sessionId} is inactive for command {type}","messageParams":{"sessionId":"d2beb4fc-357d-4807-aa73-de5ff9acabc5","type":"cloud.command.disconnect"},"details":[],"errors":[]},"script":{"id":"fe0e5fb9-ce09-4cdd-84bb-c38879b0dafe","selfUri":"/api/v2/scripts/fe0e5fb9-ce09-4cdd-84bb-c38879b0dafe"},"wrapupTimeoutMs":120000,"provider":"Edge","startAcwTime":"2024-05-23T07:05:31.460Z","muted":false,"confined":false,"recording":false,"recordingState":"none","ani":"sip:651552cdd152a71ab0b6f258+arkinsightsbpo.orgspan.com@localhost","dnis":"tel:+66989156291","securePause":false},{"id":"fab4e0ef-5498-4ca6-a755-477e59efc58f","name":"Mobile Number, Thailand","address":"tel:+66989156291","startTime":"2024-05-23T07:04:42.470Z","connectedTime":"2024-05-23T07:04:47.418Z","endTime":"2024-05-23T07:05:31.424Z","purpose":"customer","state":"terminated","direction":"outbound","disconnectType":"endpoint","held":false,"wrapupRequired":false,"mediaRoles":["full"],"queue":{"id":"b65ec790-6a8a-4eed-a6cd-0777f4944dc0","selfUri":"/api/v2/routing/queues/b65ec790-6a8a-4eed-a6cd-0777f4944dc0"},"attributes":{},"provider":"Edge","externalContact":{"id":"2f83d051-f924-41be-bed5-e866c8b6c439","selfUri":"/api/v2/externalcontacts/contacts/2f83d051-f924-41be-bed5-e866c8b6c439"},"peer":"d2beb4fc-357d-4807-aa73-de5ff9acabc5","muted":false,"confined":false,"recording":false,"recordingState":"none","ani":"sip:+66652340958@10.57.18.223;user=phone","dnis":"tel:+66989156291","securePause":false}],"otherMediaUris":[],"recentTransfers":[],"utilizationLabelId":"631f0939-be32-495a-baf9-970abb039192","recordingState":"none","securePause":false,"selfUri":"/api/v2/conversations/calls/e6e6c356-776f-4238-b789-47d5e22363b9"}
2024-05-23 14:06:09 [call-pane_process][bypass_save_wrapup] update last wrapup :  UPDATE t_calllist_agent SET  agent_id = 174 WHERE campaign_id =  41  AND calllist_id = 968300
2024-05-23 14:06:09 [call-pane_process][save_wrapup] check remove list from working list sql : SELECT remove_list, option_id, genesys_wrapup_id FROM t_wrapup_code WHERE wrapup_code = 8  
2024-05-23 14:06:09 [call-pane_process][save_wrapup] update list from working list  sql :  UPDATE t_calllist_agent SET status = 0 WHERE calllist_id = 968300   AND campaign_id =  41  AND calllist_id = 968300  AND agent_id = 174 
2024-05-23 14:06:09 [call-pane_process][save_wrapup] update current call transaction sql :UPDATE t_call_trans SET  import_id ='130', wrapup_id ='70|71|8', wrapup_note =null, wrapup_option_id =6, update_date =NOW()  WHERE voice_id =  'e6e6c356-776f-4238-b789-47d5e22363b9'
2024-05-23 14:06:09 [call-pane_process][save_wrapup] select unique id sql :SELECT uniqueid FROM t_call_trans WHERE uniqueid = null
2024-05-23 14:06:09 [call-pane_process][save_wrapup] update last wrapup :  UPDATE t_calllist_agent SET  import_id ='130', last_wrapup_id = '70|71|8', last_wrapup_detail = null, last_wrapup_option_id = 6, last_wrapup_dt = NOW() , number_of_call = number_of_call + 1 WHERE campaign_id =  41  AND calllist_id = 968300  AND agent_id = 174 
2024-05-23 14:06:09 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/e6e6c356-776f-4238-b789-47d5e22363b9/participants/21521c2b-b24f-4ced-89a0-31ec1df1a558
2024-05-23 14:06:09 [genesys][log]  data : stdClass Object
(
    [wrapup] => stdClass Object
        (
            [code] => 9ace0a02-d18e-449f-95a6-060284368cbd
        )

)

2024-05-23 14:06:09 [genesys][log]  return data : {}
2024-05-23 14:06:09 [call-pane_process][save_wrapup] update last wrapup :  UPDATE t_calllist_agent a  , t_campaign b  SET a.status = 0  WHERE a.campaign_id = b.campaign_id  and ifnull(b.maximum_call,0) > 0  and a.number_of_call >= ifnull(b.maximum_call,0)  and a.campaign_id =  41  AND a.calllist_id = 968300  AND a.agent_id = 174 
2024-05-23 14:06:09 [call-pane_process][wrapupCallStatus] sql : CALL sp_wrapup_call_status (41,968300,174,8)
2024-05-23 14:06:09 [call-pane_process][getCalllistDetail] sql : SELECT il.import_id,c.campaign_id,c.campaign_name,c.campaign_type,IF(il.genesys_queue_id IS NOT NULL,il.genesys_queue_id,c.genesys_queueid) AS genesys_queue_id,c.genesys_callback_queueid
	FROM t_calllist l 
	LEFT JOIN t_calllist_integration ci ON l.calllist_id = ci.calllist_id
	INNER JOIN t_import_list il ON l.import_id = il.import_id
	INNER JOIN t_campaign_list cl ON il.import_id = cl.import_id
	INNER JOIN t_campaign c ON cl.campaign_id = c.campaign_id
	WHERE ci.genesys_id = '968300' OR l.calllist_id = '968300'
2024-05-23 14:06:09 [call=pane_process][integration] geneRemoveQueue : sql=SELECT COUNT(DISTINCT calllist_id) AS call_count, IFNULL(c.lead_limit,0) AS lead_limit, a.genesysid AS user_genesysid, c.genesys_queueid 
	FROM t_call_trans t INNER JOIN t_agents a ON t.agent_id = a.agent_id
	INNER JOIN t_campaign c ON t.campaign_id = c.campaign_id
	WHERE t.agent_id = '174' AND t.campaign_id = '41' AND DATE(t.create_date) = CURDATE() AND 1 = 
	(IF(
		EXISTS(
		  SELECT 1
		  FROM t_call_trans h
		  WHERE DATE(h.create_date) < DATE(t.create_date) AND h.calllist_id = t.calllist_id
		),
		'0',
		'1'
	 ))
2024-05-23 14:06:09 [call=pane_process][integration] geneRemoveQueue Result: genesys_queue_id=b65ec790-6a8a-4eed-a6cd-0777f4944dc0 call_count=0 lead_limit=0 genesys_queueid=
2024-05-23 14:06:09 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 14:06:09 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 14:06:09 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 14:06:09 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 14:06:14  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 174 
2024-05-23 14:06:23 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 14:06:23 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 14:06:23 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.9' 
2024-05-23 14:06:23 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 14:06:23 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.9', '664eeaef13936' , NOW() );
2024-05-23 14:06:23 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.9', 'Login' , NOW() );
2024-05-23 14:06:23 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 14:06:24 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 14:06:24 page: 0
2024-05-23 14:06:24 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 14:06:26 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 14:06:26 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 14:06:26 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 14:07:30  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 14:07:38 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'demo1' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 14:07:38 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 14:07:38 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 174 AND ip_addr != '192.168.113.9' 
2024-05-23 14:07:38 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 174
2024-05-23 14:07:38 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '174','192.168.113.9', '664eeb3a6bbea' , NOW() );
2024-05-23 14:07:38 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '174','192.168.113.9', 'Login' , NOW() );
2024-05-23 14:07:39 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 14:07:39 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 174 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 14:07:39 page: 0
2024-05-23 14:07:39 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 174 )  ORDER BY n.create_date DESC 
2024-05-23 14:07:41 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 14:07:41 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 14:07:41 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 14:07:41 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 14:07:41 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 14:07:41 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 14:07:48 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 14:07:48 SELECT  first_name, last_name, tel1, status,conCallistid FROM t_calllist WHERE calllist_id =  968300 
2024-05-23 14:07:48  SELECT a.last_wrapup_dt ,  r.reminder_dt   FROM t_calllist_agent a LEFT OUTER JOIN t_reminder r ON a.reminder_id = r.reminder_id  WHERE a.campaign_id = 41   AND a.agent_id =  174 AND a.calllist_id = 968300
2024-05-23 14:07:48 [call-pane_process][loadpopup_content] cal history sql :  SELECT t.create_date , t.wrapup_id , t.wrapup_note  FROM t_call_trans t  WHERE t.agent_id = 174  AND t.campaign_id = 41  AND t.calllist_id = 968300 ORDER BY t.create_date DESC 
2024-05-23 14:07:48 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 70
2024-05-23 14:07:48 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 71
2024-05-23 14:07:48 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 8
2024-05-23 14:07:48 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 80
2024-05-23 14:07:48 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 84
2024-05-23 14:07:48 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 49
2024-05-23 14:07:48 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 70
2024-05-23 14:07:48 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 75
2024-05-23 14:07:48 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 26
2024-05-23 14:07:48 [call-pane_process][loadexternal_app] sql :  SELECT ex_app_name , ex_app_url , ex_app_icon  FROM t_external_app_register  WHERE campaign_id =  41   AND is_active = 1 
2024-05-23 14:08:27  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 174 
2024-05-23 14:08:35 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 14:08:35 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 14:08:35 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.9' 
2024-05-23 14:08:35 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 14:08:35 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.9', '664eeb73c61de' , NOW() );
2024-05-23 14:08:35 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.9', 'Login' , NOW() );
2024-05-23 14:08:36 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 14:08:36 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 14:08:36 page: 0
2024-05-23 14:08:36 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 14:08:38 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 14:08:38 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 14:08:38 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 14:12:26 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 14:12:27 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 14:12:27 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 14:12:39  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 14:12:51 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'aigtest2' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 14:12:51 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 14:12:51 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 213 AND ip_addr != '192.168.113.9' 
2024-05-23 14:12:51 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 213
2024-05-23 14:12:51 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '213','192.168.113.9', '664eec735c906' , NOW() );
2024-05-23 14:12:51 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '213','192.168.113.9', 'Login' , NOW() );
2024-05-23 14:12:51 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 14:12:51 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 213 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 14:12:51 page: 0
2024-05-23 14:12:51 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 213 )  ORDER BY n.create_date DESC 
2024-05-23 14:12:54 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 14:12:54 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 14:12:54 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus IN ('Approve','QC_Approved'))  ORDER BY app.create_date  DESC 
2024-05-23 14:13:57 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 14:13:57 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 14:13:57 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus IN ('Approve','QC_Approved'))  ORDER BY app.create_date  DESC 
2024-05-23 14:14:33  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 213 
2024-05-23 14:14:43 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 14:14:43 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 14:14:43 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.9' 
2024-05-23 14:14:43 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 14:14:43 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.9', '664eece393551' , NOW() );
2024-05-23 14:14:43 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.9', 'Login' , NOW() );
2024-05-23 14:14:44 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 14:14:44 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 14:14:44 page: 0
2024-05-23 14:14:44 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 14:14:45 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 14:14:45 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 14:14:45 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 14:15:53  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 14:16:03 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'aigtest2' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 14:16:03 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 14:16:03 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 213 AND ip_addr != '192.168.113.9' 
2024-05-23 14:16:03 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 213
2024-05-23 14:16:03 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '213','192.168.113.9', '664eed33ca4e0' , NOW() );
2024-05-23 14:16:03 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '213','192.168.113.9', 'Login' , NOW() );
2024-05-23 14:16:04 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 14:16:04 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 213 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 14:16:04 page: 0
2024-05-23 14:16:04 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 213 )  ORDER BY n.create_date DESC 
2024-05-23 14:16:05 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 14:16:05 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 14:16:05 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus IN ('Approve','QC_Approved'))  ORDER BY app.create_date  DESC 
2024-05-23 14:16:46 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 14:16:46 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 14:16:46 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus IN ('Approve','QC_Approved'))  ORDER BY app.create_date  DESC 
2024-05-23 14:16:53  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 213 
2024-05-23 14:17:02 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 14:17:02 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 14:17:02 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.9' 
2024-05-23 14:17:02 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 14:17:02 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.9', '664eed6e4046d' , NOW() );
2024-05-23 14:17:02 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.9', 'Login' , NOW() );
2024-05-23 14:17:02 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 14:17:02 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 14:17:02 page: 0
2024-05-23 14:17:02 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 14:17:04 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 14:17:04 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 14:17:04 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 14:59:31  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 14:59:39 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'demo1' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 14:59:40 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 14:59:40 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 174 AND ip_addr != '192.168.113.9' 
2024-05-23 14:59:40 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 174
2024-05-23 14:59:40 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '174','192.168.113.9', '664ef76c013a0' , NOW() );
2024-05-23 14:59:40 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '174','192.168.113.9', 'Login' , NOW() );
2024-05-23 14:59:40 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 14:59:40 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 174 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 14:59:40 page: 0
2024-05-23 14:59:40 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 174 )  ORDER BY n.create_date DESC 
2024-05-23 14:59:44 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 14:59:44 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 14:59:44 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Submit' or AppStatus != 'Submit Re-Confirm'  ) AND app.agent_id =  174 ORDER BY app.create_date  DESC 
2024-05-23 15:00:14  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 174 
2024-05-23 15:00:24 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'aigtest2' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:00:24 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:00:24 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 213 AND ip_addr != '192.168.113.9' 
2024-05-23 15:00:24 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 213
2024-05-23 15:00:24 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '213','192.168.113.9', '664ef7983a3c7' , NOW() );
2024-05-23 15:00:24 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '213','192.168.113.9', 'Login' , NOW() );
2024-05-23 15:00:24 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 15:00:24 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 213 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:00:24 page: 0
2024-05-23 15:00:24 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 213 )  ORDER BY n.create_date DESC 
2024-05-23 15:00:26 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 15:00:26 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:00:26 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus IN ('Approve','QC_Approved'))  ORDER BY app.create_date  DESC 
2024-05-23 15:00:48  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 213 
2024-05-23 15:00:57 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'demo1' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:00:57 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:00:57 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 174 AND ip_addr != '192.168.113.9' 
2024-05-23 15:00:57 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 174
2024-05-23 15:00:57 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '174','192.168.113.9', '664ef7b94f211' , NOW() );
2024-05-23 15:00:57 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '174','192.168.113.9', 'Login' , NOW() );
2024-05-23 15:00:57 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:00:57 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 174 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:00:57 page: 0
2024-05-23 15:00:57 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 174 )  ORDER BY n.create_date DESC 
2024-05-23 15:01:00 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:01:00 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:01:00 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Submit' or AppStatus != 'Submit Re-Confirm'  ) AND app.agent_id =  174 ORDER BY app.create_date  DESC 
2024-05-23 15:01:12  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 174 
2024-05-23 15:01:21 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'aigtest2' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:01:21 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:01:21 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 213 AND ip_addr != '192.168.113.9' 
2024-05-23 15:01:21 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 213
2024-05-23 15:01:21 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '213','192.168.113.9', '664ef7d188be4' , NOW() );
2024-05-23 15:01:21 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '213','192.168.113.9', 'Login' , NOW() );
2024-05-23 15:01:21 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 15:01:21 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 213 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:01:21 page: 0
2024-05-23 15:01:21 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 213 )  ORDER BY n.create_date DESC 
2024-05-23 15:01:23 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 15:01:23 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:01:23 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus IN ('Approve','QC_Approved'))  ORDER BY app.create_date  DESC 
2024-05-23 15:01:46  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 213 
2024-05-23 15:02:01 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'demo1' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:02:01 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:02:01 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 174 AND ip_addr != '192.168.113.9' 
2024-05-23 15:02:01 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 174
2024-05-23 15:02:01 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '174','192.168.113.9', '664ef7f94cab2' , NOW() );
2024-05-23 15:02:01 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '174','192.168.113.9', 'Login' , NOW() );
2024-05-23 15:02:01 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:02:01 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 174 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:02:01 page: 0
2024-05-23 15:02:01 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 174 )  ORDER BY n.create_date DESC 
2024-05-23 15:02:03 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:02:03 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:02:03 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Submit' or AppStatus != 'Submit Re-Confirm'  ) AND app.agent_id =  174 ORDER BY app.create_date  DESC 
2024-05-23 15:03:10  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 174 
2024-05-23 15:03:19 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:03:19 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:03:19 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.9' 
2024-05-23 15:03:19 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 15:03:19 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.9', '664ef8473516e' , NOW() );
2024-05-23 15:03:19 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.9', 'Login' , NOW() );
2024-05-23 15:03:20 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:03:20 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:03:20 page: 0
2024-05-23 15:03:20 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 15:03:22 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:03:22 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:03:22 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 15:04:59 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:04:59 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 15:04:59 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:05:19  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 15:05:30 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'aigtest2' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:05:30 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:05:30 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 213 AND ip_addr != '192.168.113.9' 
2024-05-23 15:05:30 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 213
2024-05-23 15:05:30 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '213','192.168.113.9', '664ef8ca9bc2d' , NOW() );
2024-05-23 15:05:30 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '213','192.168.113.9', 'Login' , NOW() );
2024-05-23 15:05:31 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 15:05:31 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 213 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:05:31 page: 0
2024-05-23 15:05:31 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 213 )  ORDER BY n.create_date DESC 
2024-05-23 15:05:32 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 15:05:32 [reminder_process][remineMe] sql : SELECT r.reminder_id , r.reminder_dt , r.subject , r.detail , rt.reminder_desc  FROM t_reminder r LEFT OUTER JOIN tl_reminder_type rt ON r.reminder_type_id = rt.reminder_type_id  WHERE r.create_user = 213  AND r.status = 1  AND r.reminder_dt >= NOW()  ORDER BY r.reminder_dt  LIMIT 0 , 1 
2024-05-23 15:05:32 reminder is empty
2024-05-23 15:05:32 check reminder :  SELECT COUNT(*) AS total_miss , MAX(reminder_dt) AS last_remind  FROM t_reminder WHERE reminder_dt < NOW()  AND status = 1  AND create_user =  213 
2024-05-23 15:05:32 empty
2024-05-23 15:05:32 [reminder_process][query] sql :  SELECT reminder_id , reminder_dt , r.reminder_type_id , t.reminder_desc,  t.reminder_icon, subject , detail , r.status    FROM t_reminder r LEFT OUTER JOIN tl_reminder_type t   ON r.reminder_type_id = t.reminder_type_id  WHERE r.create_user = 213  ORDER BY r.reminder_dt 
2024-05-23 15:05:33 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 15:05:33 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:05:33 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus IN ('Approve','QC_Approved'))  ORDER BY app.create_date  DESC 
2024-05-23 15:07:03  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 213 
2024-05-23 15:07:23 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:07:23 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:07:23 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.9' 
2024-05-23 15:07:23 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 15:07:23 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.9', '664ef93b4276f' , NOW() );
2024-05-23 15:07:23 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.9', 'Login' , NOW() );
2024-05-23 15:07:23 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:07:23 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:07:23 page: 0
2024-05-23 15:07:23 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 15:07:25 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:07:25 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:07:25 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 15:08:09  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 15:08:19 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'demo1' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:08:19 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:08:19 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 174 AND ip_addr != '192.168.113.9' 
2024-05-23 15:08:19 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 174
2024-05-23 15:08:19 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '174','192.168.113.9', '664ef9732bb75' , NOW() );
2024-05-23 15:08:19 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '174','192.168.113.9', 'Login' , NOW() );
2024-05-23 15:08:19 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 174 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:08:19 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:08:19 page: 0
2024-05-23 15:08:19 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 174 )  ORDER BY n.create_date DESC 
2024-05-23 15:08:21 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:08:21 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:08:21 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 15:08:21 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 15:08:21 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 15:08:21 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 15:08:22 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:08:22 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:08:22 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Submit' or AppStatus != 'Submit Re-Confirm'  ) AND app.agent_id =  174 ORDER BY app.create_date  DESC 
2024-05-23 15:08:22 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:08:22 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:08:22 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 15:08:22 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 15:08:22 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 15:08:22 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 15:08:43 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:08:43 SELECT  first_name, last_name, tel1, status,conCallistid FROM t_calllist WHERE calllist_id =  968310 
2024-05-23 15:08:43  SELECT a.last_wrapup_dt ,  r.reminder_dt   FROM t_calllist_agent a LEFT OUTER JOIN t_reminder r ON a.reminder_id = r.reminder_id  WHERE a.campaign_id = 41   AND a.agent_id =  174 AND a.calllist_id = 968310
2024-05-23 15:08:43 [call-pane_process][loadpopup_content] cal history sql :  SELECT t.create_date , t.wrapup_id , t.wrapup_note  FROM t_call_trans t  WHERE t.agent_id = 174  AND t.campaign_id = 41  AND t.calllist_id = 968310 ORDER BY t.create_date DESC 
2024-05-23 15:08:43 [call-pane_process][loadexternal_app] sql :  SELECT ex_app_name , ex_app_url , ex_app_icon  FROM t_external_app_register  WHERE campaign_id =  41   AND is_active = 1 
2024-05-23 15:09:27  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 174 
2024-05-23 15:09:34 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:09:34 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:09:34 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.9' 
2024-05-23 15:09:34 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 15:09:34 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.9', '664ef9beed7de' , NOW() );
2024-05-23 15:09:34 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.9', 'Login' , NOW() );
2024-05-23 15:09:35 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:09:35 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:09:35 page: 0
2024-05-23 15:09:35 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 15:09:36 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:09:36 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:09:36 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 15:10:15  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 15:10:25 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'demo1' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:10:25 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:10:25 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 174 AND ip_addr != '192.168.113.9' 
2024-05-23 15:10:25 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 174
2024-05-23 15:10:25 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '174','192.168.113.9', '664ef9f10c57b' , NOW() );
2024-05-23 15:10:25 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '174','192.168.113.9', 'Login' , NOW() );
2024-05-23 15:10:25 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:10:25 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 174 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:10:25 page: 0
2024-05-23 15:10:25 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 174 )  ORDER BY n.create_date DESC 
2024-05-23 15:10:27 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:10:27 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:10:27 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 15:10:27 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 15:10:27 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 15:10:27 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 15:29:43 SELECT  first_name, last_name, tel1, status,conCallistid FROM t_calllist WHERE calllist_id =  968301 
2024-05-23 15:29:43  SELECT a.last_wrapup_dt ,  r.reminder_dt   FROM t_calllist_agent a LEFT OUTER JOIN t_reminder r ON a.reminder_id = r.reminder_id  WHERE a.campaign_id = 41   AND a.agent_id =  174 AND a.calllist_id = 968301
2024-05-23 15:29:43 [call-pane_process][loadpopup_content] cal history sql :  SELECT t.create_date , t.wrapup_id , t.wrapup_note  FROM t_call_trans t  WHERE t.agent_id = 174  AND t.campaign_id = 41  AND t.calllist_id = 968301 ORDER BY t.create_date DESC 
2024-05-23 15:29:43 [call-pane_process][loadexternal_app] sql :  SELECT ex_app_name , ex_app_url , ex_app_icon  FROM t_external_app_register  WHERE campaign_id =  41   AND is_active = 1 
2024-05-23 15:29:44 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:29:46 [call-pane_process][getQueueFromCalllist] sql : SELECT il.import_id,c.campaign_id,c.campaign_name,c.campaign_type,IF(il.genesys_queue_id IS NOT NULL,il.genesys_queue_id,c.genesys_queueid) AS genesys_queue_id,c.genesys_callback_queueid
	FROM t_calllist l 
	INNER JOIN t_import_list il ON l.import_id = il.import_id
	INNER JOIN t_campaign_list cl ON il.import_id = cl.import_id
	INNER JOIN t_campaign c ON cl.campaign_id = c.campaign_id
	WHERE l.calllist_id = '968301'
2024-05-23 15:29:47 [call-pane_process][addCallTrans] sql : CALL sp_call_trans ('59e8ef32-0df7-43e2-92d3-ff856947b4c1',41,174,968301,null,null,null,null)
2024-05-23 15:32:08 [application][genesys-securepause] state:PAUSED agentid:174 lastinteraction:59e8ef32-0df7-43e2-92d3-ff856947b4c1 voiceid:59e8ef32-0df7-43e2-92d3-ff856947b4c1
2024-05-23 15:32:13 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/calls/59e8ef32-0df7-43e2-92d3-ff856947b4c1/recordingstate
2024-05-23 15:32:13 [genesys][log]  data : stdClass Object
(
    [recordingState] => PAUSED
)

2024-05-23 15:32:13 [genesys][log]  return data : {"recordingState":"PAUSED"}
2024-05-23 15:32:43 [application][genesys-securepause] state:ACTIVE agentid:174 lastinteraction:59e8ef32-0df7-43e2-92d3-ff856947b4c1 voiceid:59e8ef32-0df7-43e2-92d3-ff856947b4c1
2024-05-23 15:32:43 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/calls/59e8ef32-0df7-43e2-92d3-ff856947b4c1/recordingstate
2024-05-23 15:32:43 [genesys][log]  data : stdClass Object
(
    [recordingState] => ACTIVE
)

2024-05-23 15:32:44 [genesys][log]  return data : {"recordingState":"ACTIVE"}
2024-05-23 15:33:28 save_wrapup_data : queueid=b65ec790-6a8a-4eed-a6cd-0777f4944dc0 queuecallbackid=
2024-05-23 15:33:28 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/calls/59e8ef32-0df7-43e2-92d3-ff856947b4c1
2024-05-23 15:33:28 [genesys][log]  data : 
2024-05-23 15:33:29 [genesys][log]  return data : {"id":"59e8ef32-0df7-43e2-92d3-ff856947b4c1","participants":[{"id":"25eb2361-365f-4e69-9a20-40e0baaf9d4d","address":"sip:651552cdd152a71ab0b6f258+arkinsightsbpo.orgspan.com@localhost","startTime":"2024-05-23T08:29:47.170Z","connectedTime":"2024-05-23T08:29:55.101Z","endTime":"2024-05-23T08:33:15.483Z","purpose":"agent","state":"terminated","direction":"outbound","disconnectType":"client","held":false,"wrapupRequired":true,"wrapupPrompt":"timeout","mediaRoles":["full"],"user":{"id":"c0022e04-d981-4af2-8a54-884b4cd9d358","selfUri":"/api/v2/users/c0022e04-d981-4af2-8a54-884b4cd9d358"},"queue":{"id":"b65ec790-6a8a-4eed-a6cd-0777f4944dc0","selfUri":"/api/v2/routing/queues/b65ec790-6a8a-4eed-a6cd-0777f4944dc0"},"attributes":{},"errorInfo":{"message":"session c354e890-00a1-409a-8db5-cc3300761ee8 is inactive for command cloud.command.disconnect","code":"error.ininedgecontrol.session.inactive","messageWithParams":"session {sessionId} is inactive for command {type}","messageParams":{"sessionId":"c354e890-00a1-409a-8db5-cc3300761ee8","type":"cloud.command.disconnect"},"details":[],"errors":[]},"script":{"id":"fe0e5fb9-ce09-4cdd-84bb-c38879b0dafe","selfUri":"/api/v2/scripts/fe0e5fb9-ce09-4cdd-84bb-c38879b0dafe"},"wrapupTimeoutMs":120000,"provider":"Edge","startAcwTime":"2024-05-23T08:33:15.483Z","muted":false,"confined":false,"recording":false,"recordingState":"none","ani":"sip:651552cdd152a71ab0b6f258+arkinsightsbpo.orgspan.com@localhost","dnis":"tel:+66989156291","securePause":false},{"id":"591ecc81-fc9b-4b25-abb3-8744901d97ad","name":"Mobile Number, Thailand","address":"tel:+66989156291","startTime":"2024-05-23T08:29:49.260Z","connectedTime":"2024-05-23T08:29:55.097Z","endTime":"2024-05-23T08:33:15.482Z","purpose":"customer","state":"terminated","direction":"outbound","disconnectType":"peer","held":false,"wrapupRequired":false,"mediaRoles":["full"],"queue":{"id":"b65ec790-6a8a-4eed-a6cd-0777f4944dc0","selfUri":"/api/v2/routing/queues/b65ec790-6a8a-4eed-a6cd-0777f4944dc0"},"attributes":{},"provider":"Edge","externalContact":{"id":"2f83d051-f924-41be-bed5-e866c8b6c439","selfUri":"/api/v2/externalcontacts/contacts/2f83d051-f924-41be-bed5-e866c8b6c439"},"peer":"c354e890-00a1-409a-8db5-cc3300761ee8","muted":false,"confined":false,"recording":false,"recordingState":"none","ani":"sip:+66652340958@10.57.18.223;user=phone","dnis":"tel:+66989156291","securePause":false}],"otherMediaUris":[],"recentTransfers":[],"utilizationLabelId":"631f0939-be32-495a-baf9-970abb039192","recordingState":"none","securePause":false,"selfUri":"/api/v2/conversations/calls/59e8ef32-0df7-43e2-92d3-ff856947b4c1"}
2024-05-23 15:33:29 [call-pane_process][bypass_save_wrapup] update last wrapup :  UPDATE t_calllist_agent SET  agent_id = 174 WHERE campaign_id =  41  AND calllist_id = 968301
2024-05-23 15:33:29 [call-pane_process][save_wrapup] check remove list from working list sql : SELECT remove_list, option_id, genesys_wrapup_id FROM t_wrapup_code WHERE wrapup_code = 27  
2024-05-23 15:33:29 [call-pane_process][save_wrapup] update current call transaction sql :UPDATE t_call_trans SET  import_id ='130', wrapup_id ='70|75|27', wrapup_note =null, wrapup_option_id =2, update_date =NOW()  WHERE voice_id =  '59e8ef32-0df7-43e2-92d3-ff856947b4c1'
2024-05-23 15:33:29 [call-pane_process][save_wrapup] select unique id sql :SELECT uniqueid FROM t_call_trans WHERE uniqueid = null
2024-05-23 15:33:29 [call-pane_process][save_wrapup] update last wrapup :  UPDATE t_calllist_agent SET  import_id ='130', last_wrapup_id = '70|75|27', last_wrapup_detail = null, last_wrapup_option_id = 2, last_wrapup_dt = NOW() , number_of_call = number_of_call + 1 WHERE campaign_id =  41  AND calllist_id = 968301  AND agent_id = 174 
2024-05-23 15:33:29 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/59e8ef32-0df7-43e2-92d3-ff856947b4c1/participants/25eb2361-365f-4e69-9a20-40e0baaf9d4d
2024-05-23 15:33:29 [genesys][log]  data : stdClass Object
(
    [wrapup] => stdClass Object
        (
            [code] => d7c965c4-af51-48d6-b9f6-770e5e6acc5c
        )

)

2024-05-23 15:33:29 [genesys][log]  return data : {}
2024-05-23 15:33:29 [call-pane_process][save_wrapup] update last wrapup :  UPDATE t_calllist_agent a  , t_campaign b  SET a.status = 0  WHERE a.campaign_id = b.campaign_id  and ifnull(b.maximum_call,0) > 0  and a.number_of_call >= ifnull(b.maximum_call,0)  and a.campaign_id =  41  AND a.calllist_id = 968301  AND a.agent_id = 174 
2024-05-23 15:33:29 [call-pane_process][wrapupCallStatus] sql : CALL sp_wrapup_call_status (41,968301,174,27)
2024-05-23 15:33:29 [call-pane_process][getCalllistDetail] sql : SELECT il.import_id,c.campaign_id,c.campaign_name,c.campaign_type,IF(il.genesys_queue_id IS NOT NULL,il.genesys_queue_id,c.genesys_queueid) AS genesys_queue_id,c.genesys_callback_queueid
	FROM t_calllist l 
	LEFT JOIN t_calllist_integration ci ON l.calllist_id = ci.calllist_id
	INNER JOIN t_import_list il ON l.import_id = il.import_id
	INNER JOIN t_campaign_list cl ON il.import_id = cl.import_id
	INNER JOIN t_campaign c ON cl.campaign_id = c.campaign_id
	WHERE ci.genesys_id = '968301' OR l.calllist_id = '968301'
2024-05-23 15:33:29 [call=pane_process][integration] geneRemoveQueue : sql=SELECT COUNT(DISTINCT calllist_id) AS call_count, IFNULL(c.lead_limit,0) AS lead_limit, a.genesysid AS user_genesysid, c.genesys_queueid 
	FROM t_call_trans t INNER JOIN t_agents a ON t.agent_id = a.agent_id
	INNER JOIN t_campaign c ON t.campaign_id = c.campaign_id
	WHERE t.agent_id = '174' AND t.campaign_id = '41' AND DATE(t.create_date) = CURDATE() AND 1 = 
	(IF(
		EXISTS(
		  SELECT 1
		  FROM t_call_trans h
		  WHERE DATE(h.create_date) < DATE(t.create_date) AND h.calllist_id = t.calllist_id
		),
		'0',
		'1'
	 ))
2024-05-23 15:33:29 [call=pane_process][integration] geneRemoveQueue Result: genesys_queue_id=b65ec790-6a8a-4eed-a6cd-0777f4944dc0 call_count=1 lead_limit=0 genesys_queueid=b65ec790-6a8a-4eed-a6cd-0777f4944dc0
2024-05-23 15:33:29 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 15:33:29 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 15:33:29 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 15:33:29 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 15:33:37 SELECT  first_name, last_name, tel1, status,conCallistid FROM t_calllist WHERE calllist_id =  968301 
2024-05-23 15:33:37  SELECT a.last_wrapup_dt ,  r.reminder_dt   FROM t_calllist_agent a LEFT OUTER JOIN t_reminder r ON a.reminder_id = r.reminder_id  WHERE a.campaign_id = 41   AND a.agent_id =  174 AND a.calllist_id = 968301
2024-05-23 15:33:37 [call-pane_process][loadpopup_content] cal history sql :  SELECT t.create_date , t.wrapup_id , t.wrapup_note  FROM t_call_trans t  WHERE t.agent_id = 174  AND t.campaign_id = 41  AND t.calllist_id = 968301 ORDER BY t.create_date DESC 
2024-05-23 15:33:37 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:33:37 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 70
2024-05-23 15:33:37 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 75
2024-05-23 15:33:37 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 27
2024-05-23 15:33:37 [call-pane_process][loadexternal_app] sql :  SELECT ex_app_name , ex_app_url , ex_app_icon  FROM t_external_app_register  WHERE campaign_id =  41   AND is_active = 1 
2024-05-23 15:33:42 [call-pane_process][getQueueFromCalllist] sql : SELECT il.import_id,c.campaign_id,c.campaign_name,c.campaign_type,IF(il.genesys_queue_id IS NOT NULL,il.genesys_queue_id,c.genesys_queueid) AS genesys_queue_id,c.genesys_callback_queueid
	FROM t_calllist l 
	INNER JOIN t_import_list il ON l.import_id = il.import_id
	INNER JOIN t_campaign_list cl ON il.import_id = cl.import_id
	INNER JOIN t_campaign c ON cl.campaign_id = c.campaign_id
	WHERE l.calllist_id = '968301'
2024-05-23 15:33:42 [call-pane_process][addCallTrans] sql : CALL sp_call_trans ('9838d916-3606-4ab6-8f84-ed5263bf8e78',41,174,968301,null,null,null,null)
2024-05-23 15:34:48 save_wrapup_data : queueid=b65ec790-6a8a-4eed-a6cd-0777f4944dc0 queuecallbackid=
2024-05-23 15:34:49 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/calls/9838d916-3606-4ab6-8f84-ed5263bf8e78
2024-05-23 15:34:49 [genesys][log]  data : 
2024-05-23 15:34:49 [genesys][log]  return data : {"id":"9838d916-3606-4ab6-8f84-ed5263bf8e78","participants":[{"id":"bf1b842a-c4f4-4d9c-bf13-aac4f7c10750","address":"sip:651552cdd152a71ab0b6f258+arkinsightsbpo.orgspan.com@localhost","startTime":"2024-05-23T08:33:42.284Z","connectedTime":"2024-05-23T08:33:49.211Z","endTime":"2024-05-23T08:34:26.571Z","purpose":"agent","state":"terminated","direction":"outbound","disconnectType":"peer","held":false,"wrapupRequired":true,"wrapupPrompt":"timeout","mediaRoles":["full"],"user":{"id":"c0022e04-d981-4af2-8a54-884b4cd9d358","selfUri":"/api/v2/users/c0022e04-d981-4af2-8a54-884b4cd9d358"},"queue":{"id":"b65ec790-6a8a-4eed-a6cd-0777f4944dc0","selfUri":"/api/v2/routing/queues/b65ec790-6a8a-4eed-a6cd-0777f4944dc0"},"attributes":{},"errorInfo":{"message":"session 34239737-a368-489f-ba06-349414879afa is inactive for command cloud.command.disconnect","code":"error.ininedgecontrol.session.inactive","messageWithParams":"session {sessionId} is inactive for command {type}","messageParams":{"sessionId":"34239737-a368-489f-ba06-349414879afa","type":"cloud.command.disconnect"},"details":[],"errors":[]},"script":{"id":"fe0e5fb9-ce09-4cdd-84bb-c38879b0dafe","selfUri":"/api/v2/scripts/fe0e5fb9-ce09-4cdd-84bb-c38879b0dafe"},"wrapupTimeoutMs":120000,"provider":"Edge","startAcwTime":"2024-05-23T08:34:26.571Z","muted":false,"confined":false,"recording":false,"recordingState":"none","ani":"sip:651552cdd152a71ab0b6f258+arkinsightsbpo.orgspan.com@localhost","dnis":"tel:+66989156291","securePause":false},{"id":"86a38d3a-be73-4f7f-90d9-fd32f8200cb6","name":"Mobile Number, Thailand","address":"tel:+66989156291","startTime":"2024-05-23T08:33:42.358Z","connectedTime":"2024-05-23T08:33:49.190Z","endTime":"2024-05-23T08:34:26.557Z","purpose":"customer","state":"terminated","direction":"outbound","disconnectType":"endpoint","held":false,"wrapupRequired":false,"mediaRoles":["full"],"queue":{"id":"b65ec790-6a8a-4eed-a6cd-0777f4944dc0","selfUri":"/api/v2/routing/queues/b65ec790-6a8a-4eed-a6cd-0777f4944dc0"},"attributes":{},"provider":"Edge","externalContact":{"id":"2f83d051-f924-41be-bed5-e866c8b6c439","selfUri":"/api/v2/externalcontacts/contacts/2f83d051-f924-41be-bed5-e866c8b6c439"},"peer":"34239737-a368-489f-ba06-349414879afa","muted":false,"confined":false,"recording":false,"recordingState":"none","ani":"sip:+66652340958@10.57.18.223;user=phone","dnis":"tel:+66989156291","securePause":false}],"otherMediaUris":[],"recentTransfers":[],"utilizationLabelId":"631f0939-be32-495a-baf9-970abb039192","recordingState":"none","securePause":false,"selfUri":"/api/v2/conversations/calls/9838d916-3606-4ab6-8f84-ed5263bf8e78"}
2024-05-23 15:34:49 [call-pane_process][bypass_save_wrapup] update last wrapup :  UPDATE t_calllist_agent SET  agent_id = 174 WHERE campaign_id =  41  AND calllist_id = 968301
2024-05-23 15:34:49 [call-pane_process][save_wrapup] check remove list from working list sql : SELECT remove_list, option_id, genesys_wrapup_id FROM t_wrapup_code WHERE wrapup_code = 8  
2024-05-23 15:34:49 [call-pane_process][save_wrapup] update list from working list  sql :  UPDATE t_calllist_agent SET status = 0 WHERE calllist_id = 968301   AND campaign_id =  41  AND calllist_id = 968301  AND agent_id = 174 
2024-05-23 15:34:49 [call-pane_process][save_wrapup] update current call transaction sql :UPDATE t_call_trans SET  import_id ='130', wrapup_id ='70|71|8', wrapup_note =null, wrapup_option_id =6, update_date =NOW()  WHERE voice_id =  '9838d916-3606-4ab6-8f84-ed5263bf8e78'
2024-05-23 15:34:49 [call-pane_process][save_wrapup] select unique id sql :SELECT uniqueid FROM t_call_trans WHERE uniqueid = null
2024-05-23 15:34:49 [call-pane_process][save_wrapup] update last wrapup :  UPDATE t_calllist_agent SET  import_id ='130', last_wrapup_id = '70|71|8', last_wrapup_detail = null, last_wrapup_option_id = 6, last_wrapup_dt = NOW() , number_of_call = number_of_call + 1 WHERE campaign_id =  41  AND calllist_id = 968301  AND agent_id = 174 
2024-05-23 15:34:49 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/9838d916-3606-4ab6-8f84-ed5263bf8e78/participants/bf1b842a-c4f4-4d9c-bf13-aac4f7c10750
2024-05-23 15:34:49 [genesys][log]  data : stdClass Object
(
    [wrapup] => stdClass Object
        (
            [code] => 9ace0a02-d18e-449f-95a6-060284368cbd
        )

)

2024-05-23 15:34:50 [genesys][log]  return data : {}
2024-05-23 15:34:50 [call-pane_process][save_wrapup] update last wrapup :  UPDATE t_calllist_agent a  , t_campaign b  SET a.status = 0  WHERE a.campaign_id = b.campaign_id  and ifnull(b.maximum_call,0) > 0  and a.number_of_call >= ifnull(b.maximum_call,0)  and a.campaign_id =  41  AND a.calllist_id = 968301  AND a.agent_id = 174 
2024-05-23 15:34:50 [call-pane_process][wrapupCallStatus] sql : CALL sp_wrapup_call_status (41,968301,174,8)
2024-05-23 15:34:50 [call-pane_process][getCalllistDetail] sql : SELECT il.import_id,c.campaign_id,c.campaign_name,c.campaign_type,IF(il.genesys_queue_id IS NOT NULL,il.genesys_queue_id,c.genesys_queueid) AS genesys_queue_id,c.genesys_callback_queueid
	FROM t_calllist l 
	LEFT JOIN t_calllist_integration ci ON l.calllist_id = ci.calllist_id
	INNER JOIN t_import_list il ON l.import_id = il.import_id
	INNER JOIN t_campaign_list cl ON il.import_id = cl.import_id
	INNER JOIN t_campaign c ON cl.campaign_id = c.campaign_id
	WHERE ci.genesys_id = '968301' OR l.calllist_id = '968301'
2024-05-23 15:34:50 [call=pane_process][integration] geneRemoveQueue : sql=SELECT COUNT(DISTINCT calllist_id) AS call_count, IFNULL(c.lead_limit,0) AS lead_limit, a.genesysid AS user_genesysid, c.genesys_queueid 
	FROM t_call_trans t INNER JOIN t_agents a ON t.agent_id = a.agent_id
	INNER JOIN t_campaign c ON t.campaign_id = c.campaign_id
	WHERE t.agent_id = '174' AND t.campaign_id = '41' AND DATE(t.create_date) = CURDATE() AND 1 = 
	(IF(
		EXISTS(
		  SELECT 1
		  FROM t_call_trans h
		  WHERE DATE(h.create_date) < DATE(t.create_date) AND h.calllist_id = t.calllist_id
		),
		'0',
		'1'
	 ))
2024-05-23 15:34:50 [call=pane_process][integration] geneRemoveQueue Result: genesys_queue_id=b65ec790-6a8a-4eed-a6cd-0777f4944dc0 call_count=1 lead_limit=0 genesys_queueid=b65ec790-6a8a-4eed-a6cd-0777f4944dc0
2024-05-23 15:34:50 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 15:34:50 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 15:34:50 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 15:34:50 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 15:34:59  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 174 
2024-05-23 15:35:07 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:35:07 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:35:07 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.6' 
2024-05-23 15:35:09 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:35:09 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 15:35:09 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.6', '664effbd91924' , NOW() );
2024-05-23 15:35:09 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:35:09 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:35:09 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:35:09 page: 0
2024-05-23 15:35:09 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 15:35:11 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:35:11 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:35:11 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 15:36:02  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 15:36:13 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'demo1' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:36:13 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:36:13 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 174 AND ip_addr != '192.168.113.6' 
2024-05-23 15:36:16 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'demo1' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:36:16 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 174
2024-05-23 15:36:16 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '174','192.168.113.6', '664f00006b91f' , NOW() );
2024-05-23 15:36:16 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '174','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:36:18 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:36:18 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 174 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:36:19 page: 0
2024-05-23 15:36:19 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 174 )  ORDER BY n.create_date DESC 
2024-05-23 15:36:20 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:36:20 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:36:20 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 15:36:20 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 15:36:20 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 15:36:20 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 15:37:09 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:37:09 SELECT  first_name, last_name, tel1, status,conCallistid FROM t_calllist WHERE calllist_id =  968301 
2024-05-23 15:37:09  SELECT a.last_wrapup_dt ,  r.reminder_dt   FROM t_calllist_agent a LEFT OUTER JOIN t_reminder r ON a.reminder_id = r.reminder_id  WHERE a.campaign_id = 41   AND a.agent_id =  174 AND a.calllist_id = 968301
2024-05-23 15:37:09 [call-pane_process][loadpopup_content] cal history sql :  SELECT t.create_date , t.wrapup_id , t.wrapup_note  FROM t_call_trans t  WHERE t.agent_id = 174  AND t.campaign_id = 41  AND t.calllist_id = 968301 ORDER BY t.create_date DESC 
2024-05-23 15:37:09 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 70
2024-05-23 15:37:09 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 71
2024-05-23 15:37:09 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 8
2024-05-23 15:37:09 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 70
2024-05-23 15:37:09 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 75
2024-05-23 15:37:09 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 27
2024-05-23 15:37:09 [call-pane_process][loadexternal_app] sql :  SELECT ex_app_name , ex_app_url , ex_app_icon  FROM t_external_app_register  WHERE campaign_id =  41   AND is_active = 1 
2024-05-23 15:38:26 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:38:26 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:38:26 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 15:38:26 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 15:38:26 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 15:38:26 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 15:38:31  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 174 
2024-05-23 15:38:44 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'ๆแจๅ' AND agent_password = 'f44ccd7029017326d356019dd4554f6e52c5ef87'
2024-05-23 15:39:00 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:39:00 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:39:00 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.6' 
2024-05-23 15:39:00 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 15:39:00 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.6', '664f00a49e14e' , NOW() );
2024-05-23 15:39:00 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:39:01 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:39:01 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:39:01 page: 0
2024-05-23 15:39:01 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 15:39:04 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:39:04 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:39:04 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 15:40:23  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 15:40:35 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'aigtest2' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:40:35 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:40:35 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 213 AND ip_addr != '192.168.113.6' 
2024-05-23 15:40:37 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'aigtest2' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:40:37 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 213
2024-05-23 15:40:37 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '213','192.168.113.6', '664f01057df1e' , NOW() );
2024-05-23 15:40:37 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '213','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:40:37 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 213 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:40:37 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 15:40:37 page: 0
2024-05-23 15:40:37 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 213 )  ORDER BY n.create_date DESC 
2024-05-23 15:40:39 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 15:40:39 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:40:39 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus IN ('Approve','QC_Approved'))  ORDER BY app.create_date  DESC 
2024-05-23 15:41:43  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 213 
2024-05-23 15:42:00 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:42:00 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:42:00 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.6' 
2024-05-23 15:42:00 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 15:42:00 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.6', '664f01580b631' , NOW() );
2024-05-23 15:42:00 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:42:00 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:42:00 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:42:00 page: 0
2024-05-23 15:42:00 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 15:42:01 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:42:01 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:42:01 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 15:42:56  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 15:43:04 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'demo1' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:43:04 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:43:04 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 174 AND ip_addr != '192.168.113.6' 
2024-05-23 15:43:04 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 174
2024-05-23 15:43:04 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '174','192.168.113.6', '664f01985b080' , NOW() );
2024-05-23 15:43:04 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '174','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:43:05 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 174 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:43:05 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:43:05 page: 0
2024-05-23 15:43:05 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 174 )  ORDER BY n.create_date DESC 
2024-05-23 15:43:07 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:43:07 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 15:43:07 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 15:43:07 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 15:43:07 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 15:43:07 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:43:12 SELECT  first_name, last_name, tel1, status,conCallistid FROM t_calllist WHERE calllist_id =  968301 
2024-05-23 15:43:12  SELECT a.last_wrapup_dt ,  r.reminder_dt   FROM t_calllist_agent a LEFT OUTER JOIN t_reminder r ON a.reminder_id = r.reminder_id  WHERE a.campaign_id = 41   AND a.agent_id =  174 AND a.calllist_id = 968301
2024-05-23 15:43:12 [call-pane_process][loadpopup_content] cal history sql :  SELECT t.create_date , t.wrapup_id , t.wrapup_note  FROM t_call_trans t  WHERE t.agent_id = 174  AND t.campaign_id = 41  AND t.calllist_id = 968301 ORDER BY t.create_date DESC 
2024-05-23 15:43:12 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 70
2024-05-23 15:43:12 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:43:12 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 71
2024-05-23 15:43:12 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 8
2024-05-23 15:43:12 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 70
2024-05-23 15:43:12 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 75
2024-05-23 15:43:12 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 27
2024-05-23 15:43:12 [call-pane_process][loadexternal_app] sql :  SELECT ex_app_name , ex_app_url , ex_app_icon  FROM t_external_app_register  WHERE campaign_id =  41   AND is_active = 1 
2024-05-23 15:43:31 [call-pane_process][getQueueFromCalllist] sql : SELECT il.import_id,c.campaign_id,c.campaign_name,c.campaign_type,IF(il.genesys_queue_id IS NOT NULL,il.genesys_queue_id,c.genesys_queueid) AS genesys_queue_id,c.genesys_callback_queueid
	FROM t_calllist l 
	INNER JOIN t_import_list il ON l.import_id = il.import_id
	INNER JOIN t_campaign_list cl ON il.import_id = cl.import_id
	INNER JOIN t_campaign c ON cl.campaign_id = c.campaign_id
	WHERE l.calllist_id = '968301'
2024-05-23 15:43:31 [call-pane_process][addCallTrans] sql : CALL sp_call_trans ('0d1d1b27-84b9-48d6-aff3-d07035dc0802',41,174,968301,null,null,null,null)
2024-05-23 15:44:00 save_wrapup_data : queueid=b65ec790-6a8a-4eed-a6cd-0777f4944dc0 queuecallbackid=
2024-05-23 15:44:02 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/calls/0d1d1b27-84b9-48d6-aff3-d07035dc0802
2024-05-23 15:44:02 [genesys][log]  data : 
2024-05-23 15:44:02 [genesys][log]  return data : {"id":"0d1d1b27-84b9-48d6-aff3-d07035dc0802","participants":[{"id":"fbb4283e-09bb-4676-abbf-d1fe9565e051","address":"sip:651552cdd152a71ab0b6f258+arkinsightsbpo.orgspan.com@localhost","startTime":"2024-05-23T08:43:31.340Z","connectedTime":"2024-05-23T08:43:39.284Z","endTime":"2024-05-23T08:43:51.379Z","purpose":"agent","state":"terminated","direction":"outbound","disconnectType":"client","held":false,"wrapupRequired":true,"wrapupPrompt":"timeout","mediaRoles":["full"],"user":{"id":"c0022e04-d981-4af2-8a54-884b4cd9d358","selfUri":"/api/v2/users/c0022e04-d981-4af2-8a54-884b4cd9d358"},"queue":{"id":"b65ec790-6a8a-4eed-a6cd-0777f4944dc0","selfUri":"/api/v2/routing/queues/b65ec790-6a8a-4eed-a6cd-0777f4944dc0"},"attributes":{},"errorInfo":{"message":"session 9a9f7afb-7cba-49a4-be34-d92d7e587a06 is inactive for command cloud.command.disconnect","code":"error.ininedgecontrol.session.inactive","messageWithParams":"session {sessionId} is inactive for command {type}","messageParams":{"sessionId":"9a9f7afb-7cba-49a4-be34-d92d7e587a06","type":"cloud.command.disconnect"},"details":[],"errors":[]},"script":{"id":"fe0e5fb9-ce09-4cdd-84bb-c38879b0dafe","selfUri":"/api/v2/scripts/fe0e5fb9-ce09-4cdd-84bb-c38879b0dafe"},"wrapupTimeoutMs":120000,"provider":"Edge","startAcwTime":"2024-05-23T08:43:51.379Z","muted":false,"confined":false,"recording":false,"recordingState":"none","ani":"sip:651552cdd152a71ab0b6f258+arkinsightsbpo.orgspan.com@localhost","dnis":"tel:+66989156291","securePause":false},{"id":"bf1de9c5-770e-4d81-928b-206b84786015","name":"Mobile Number, Thailand","address":"tel:+66989156291","startTime":"2024-05-23T08:43:34.701Z","connectedTime":"2024-05-23T08:43:39.283Z","endTime":"2024-05-23T08:43:51.379Z","purpose":"customer","state":"terminated","direction":"outbound","disconnectType":"peer","held":false,"wrapupRequired":false,"mediaRoles":["full"],"queue":{"id":"b65ec790-6a8a-4eed-a6cd-0777f4944dc0","selfUri":"/api/v2/routing/queues/b65ec790-6a8a-4eed-a6cd-0777f4944dc0"},"attributes":{},"provider":"Edge","externalContact":{"id":"2f83d051-f924-41be-bed5-e866c8b6c439","selfUri":"/api/v2/externalcontacts/contacts/2f83d051-f924-41be-bed5-e866c8b6c439"},"peer":"9a9f7afb-7cba-49a4-be34-d92d7e587a06","muted":false,"confined":false,"recording":false,"recordingState":"none","ani":"sip:+66652340958@10.57.18.223;user=phone","dnis":"tel:+66989156291","securePause":false}],"otherMediaUris":[],"recentTransfers":[],"utilizationLabelId":"631f0939-be32-495a-baf9-970abb039192","recordingState":"none","securePause":false,"selfUri":"/api/v2/conversations/calls/0d1d1b27-84b9-48d6-aff3-d07035dc0802"}
2024-05-23 15:44:02 [call-pane_process][bypass_save_wrapup] update last wrapup :  UPDATE t_calllist_agent SET  agent_id = 174 WHERE campaign_id =  41  AND calllist_id = 968301
2024-05-23 15:44:02 [call-pane_process][save_wrapup] check remove list from working list sql : SELECT remove_list, option_id, genesys_wrapup_id FROM t_wrapup_code WHERE wrapup_code = 8  
2024-05-23 15:44:02 [call-pane_process][save_wrapup] update list from working list  sql :  UPDATE t_calllist_agent SET status = 0 WHERE calllist_id = 968301   AND campaign_id =  41  AND calllist_id = 968301  AND agent_id = 174 
2024-05-23 15:44:02 [call-pane_process][save_wrapup] update current call transaction sql :UPDATE t_call_trans SET  import_id ='130', wrapup_id ='70|71|8', wrapup_note =null, wrapup_option_id =6, update_date =NOW()  WHERE voice_id =  '0d1d1b27-84b9-48d6-aff3-d07035dc0802'
2024-05-23 15:44:02 [call-pane_process][save_wrapup] select unique id sql :SELECT uniqueid FROM t_call_trans WHERE uniqueid = null
2024-05-23 15:44:02 [call-pane_process][save_wrapup] update last wrapup :  UPDATE t_calllist_agent SET  import_id ='130', last_wrapup_id = '70|71|8', last_wrapup_detail = null, last_wrapup_option_id = 6, last_wrapup_dt = NOW() , number_of_call = number_of_call + 1 WHERE campaign_id =  41  AND calllist_id = 968301  AND agent_id = 174 
2024-05-23 15:44:02 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/0d1d1b27-84b9-48d6-aff3-d07035dc0802/participants/fbb4283e-09bb-4676-abbf-d1fe9565e051
2024-05-23 15:44:02 [genesys][log]  data : stdClass Object
(
    [wrapup] => stdClass Object
        (
            [code] => 9ace0a02-d18e-449f-95a6-060284368cbd
        )

)

2024-05-23 15:44:03 [genesys][log]  return data : {}
2024-05-23 15:44:03 [call-pane_process][save_wrapup] update last wrapup :  UPDATE t_calllist_agent a  , t_campaign b  SET a.status = 0  WHERE a.campaign_id = b.campaign_id  and ifnull(b.maximum_call,0) > 0  and a.number_of_call >= ifnull(b.maximum_call,0)  and a.campaign_id =  41  AND a.calllist_id = 968301  AND a.agent_id = 174 
2024-05-23 15:44:03 [call-pane_process][wrapupCallStatus] sql : CALL sp_wrapup_call_status (41,968301,174,8)
2024-05-23 15:44:03 [call-pane_process][getCalllistDetail] sql : SELECT il.import_id,c.campaign_id,c.campaign_name,c.campaign_type,IF(il.genesys_queue_id IS NOT NULL,il.genesys_queue_id,c.genesys_queueid) AS genesys_queue_id,c.genesys_callback_queueid
	FROM t_calllist l 
	LEFT JOIN t_calllist_integration ci ON l.calllist_id = ci.calllist_id
	INNER JOIN t_import_list il ON l.import_id = il.import_id
	INNER JOIN t_campaign_list cl ON il.import_id = cl.import_id
	INNER JOIN t_campaign c ON cl.campaign_id = c.campaign_id
	WHERE ci.genesys_id = '968301' OR l.calllist_id = '968301'
2024-05-23 15:44:03 [call=pane_process][integration] geneRemoveQueue : sql=SELECT COUNT(DISTINCT calllist_id) AS call_count, IFNULL(c.lead_limit,0) AS lead_limit, a.genesysid AS user_genesysid, c.genesys_queueid 
	FROM t_call_trans t INNER JOIN t_agents a ON t.agent_id = a.agent_id
	INNER JOIN t_campaign c ON t.campaign_id = c.campaign_id
	WHERE t.agent_id = '174' AND t.campaign_id = '41' AND DATE(t.create_date) = CURDATE() AND 1 = 
	(IF(
		EXISTS(
		  SELECT 1
		  FROM t_call_trans h
		  WHERE DATE(h.create_date) < DATE(t.create_date) AND h.calllist_id = t.calllist_id
		),
		'0',
		'1'
	 ))
2024-05-23 15:44:03 [call=pane_process][integration] geneRemoveQueue Result: genesys_queue_id=b65ec790-6a8a-4eed-a6cd-0777f4944dc0 call_count=1 lead_limit=0 genesys_queueid=b65ec790-6a8a-4eed-a6cd-0777f4944dc0
2024-05-23 15:44:03 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 15:44:03 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 15:44:03 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 15:44:03 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 15:44:44  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 174 
2024-05-23 15:44:52 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:44:52 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:44:52 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.6' 
2024-05-23 15:44:52 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 15:44:52 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.6', '664f02047fab4' , NOW() );
2024-05-23 15:44:52 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:44:52 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:44:52 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:44:52 page: 0
2024-05-23 15:44:52 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 15:44:54 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:44:54 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:44:54 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 15:45:16  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 15:45:27 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'demo1' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:45:27 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:45:27 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 174 AND ip_addr != '192.168.113.6' 
2024-05-23 15:45:27 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 174
2024-05-23 15:45:27 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '174','192.168.113.6', '664f0227cdc2f' , NOW() );
2024-05-23 15:45:27 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '174','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:45:28 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 174 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:45:28 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:45:28 page: 0
2024-05-23 15:45:28 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 174 )  ORDER BY n.create_date DESC 
2024-05-23 15:45:30 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:45:30 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Submit' or AppStatus != 'Submit Re-Confirm'  ) AND app.agent_id =  174 ORDER BY app.create_date  DESC 
2024-05-23 15:45:30 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:45:30 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:45:30 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:45:31 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 15:45:31 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 15:45:31 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 15:45:31 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 15:45:32 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:45:32 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:45:32 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Submit' or AppStatus != 'Submit Re-Confirm'  ) AND app.agent_id =  174 ORDER BY app.create_date  DESC 
2024-05-23 15:45:33 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:45:33 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:45:33 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 15:45:33 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 15:45:33 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 15:45:33 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 15:45:36 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:45:36 SELECT  first_name, last_name, tel1, status,conCallistid FROM t_calllist WHERE calllist_id =  968301 
2024-05-23 15:45:36  SELECT a.last_wrapup_dt ,  r.reminder_dt   FROM t_calllist_agent a LEFT OUTER JOIN t_reminder r ON a.reminder_id = r.reminder_id  WHERE a.campaign_id = 41   AND a.agent_id =  174 AND a.calllist_id = 968301
2024-05-23 15:45:36 [call-pane_process][loadpopup_content] cal history sql :  SELECT t.create_date , t.wrapup_id , t.wrapup_note  FROM t_call_trans t  WHERE t.agent_id = 174  AND t.campaign_id = 41  AND t.calllist_id = 968301 ORDER BY t.create_date DESC 
2024-05-23 15:45:36 [call-pane_process][loadexternal_app] sql :  SELECT ex_app_name , ex_app_url , ex_app_icon  FROM t_external_app_register  WHERE campaign_id =  41   AND is_active = 1 
2024-05-23 15:45:44 [call-pane_process][getQueueFromCalllist] sql : SELECT il.import_id,c.campaign_id,c.campaign_name,c.campaign_type,IF(il.genesys_queue_id IS NOT NULL,il.genesys_queue_id,c.genesys_queueid) AS genesys_queue_id,c.genesys_callback_queueid
	FROM t_calllist l 
	INNER JOIN t_import_list il ON l.import_id = il.import_id
	INNER JOIN t_campaign_list cl ON il.import_id = cl.import_id
	INNER JOIN t_campaign c ON cl.campaign_id = c.campaign_id
	WHERE l.calllist_id = '968301'
2024-05-23 15:45:45 [call-pane_process][addCallTrans] sql : CALL sp_call_trans ('cd4ec52d-cd68-4908-bd0a-feda1adcaaa0',41,174,968301,null,null,null,null)
2024-05-23 15:46:48 save_wrapup_data : queueid=b65ec790-6a8a-4eed-a6cd-0777f4944dc0 queuecallbackid=
2024-05-23 15:46:49 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/calls/cd4ec52d-cd68-4908-bd0a-feda1adcaaa0
2024-05-23 15:46:49 [genesys][log]  data : 
2024-05-23 15:46:56 [genesys][log]  return data : {"id":"cd4ec52d-cd68-4908-bd0a-feda1adcaaa0","participants":[{"id":"e3d15bae-58e9-4108-a21d-f8f404b17cc7","address":"sip:651552cdd152a71ab0b6f258+arkinsightsbpo.orgspan.com@localhost","startTime":"2024-05-23T08:45:44.618Z","endTime":"2024-05-23T08:45:58.863Z","purpose":"agent","state":"terminated","direction":"outbound","disconnectType":"client","held":false,"wrapupRequired":true,"wrapupPrompt":"timeout","mediaRoles":["full"],"user":{"id":"c0022e04-d981-4af2-8a54-884b4cd9d358","selfUri":"/api/v2/users/c0022e04-d981-4af2-8a54-884b4cd9d358"},"queue":{"id":"b65ec790-6a8a-4eed-a6cd-0777f4944dc0","selfUri":"/api/v2/routing/queues/b65ec790-6a8a-4eed-a6cd-0777f4944dc0"},"attributes":{},"errorInfo":{"message":"session cc22bbf0-bbef-403c-a185-d514f6a2f11d is inactive for command cloud.command.disconnect","code":"error.ininedgecontrol.session.inactive","messageWithParams":"session {sessionId} is inactive for command {type}","messageParams":{"sessionId":"cc22bbf0-bbef-403c-a185-d514f6a2f11d","type":"cloud.command.disconnect"},"details":[],"errors":[]},"script":{"id":"fe0e5fb9-ce09-4cdd-84bb-c38879b0dafe","selfUri":"/api/v2/scripts/fe0e5fb9-ce09-4cdd-84bb-c38879b0dafe"},"wrapupTimeoutMs":120000,"provider":"Edge","startAcwTime":"2024-05-23T08:45:58.863Z","muted":false,"confined":false,"recording":false,"recordingState":"none","ani":"sip:651552cdd152a71ab0b6f258+arkinsightsbpo.orgspan.com@localhost","dnis":"tel:+66989156291","securePause":false}],"otherMediaUris":[],"recentTransfers":[],"utilizationLabelId":"631f0939-be32-495a-baf9-970abb039192","recordingState":"none","securePause":false,"selfUri":"/api/v2/conversations/calls/cd4ec52d-cd68-4908-bd0a-feda1adcaaa0"}
2024-05-23 15:46:56 [call-pane_process][bypass_save_wrapup] update last wrapup :  UPDATE t_calllist_agent SET  agent_id = 174 WHERE campaign_id =  41  AND calllist_id = 968301
2024-05-23 15:46:56 [call-pane_process][save_wrapup] check remove list from working list sql : SELECT remove_list, option_id, genesys_wrapup_id FROM t_wrapup_code WHERE wrapup_code = 8  
2024-05-23 15:46:56 [call-pane_process][save_wrapup] update list from working list  sql :  UPDATE t_calllist_agent SET status = 0 WHERE calllist_id = 968301   AND campaign_id =  41  AND calllist_id = 968301  AND agent_id = 174 
2024-05-23 15:46:56 [call-pane_process][save_wrapup] update current call transaction sql :UPDATE t_call_trans SET  import_id ='130', wrapup_id ='70|71|8', wrapup_note =null, wrapup_option_id =6, update_date =NOW()  WHERE voice_id =  'cd4ec52d-cd68-4908-bd0a-feda1adcaaa0'
2024-05-23 15:46:56 [call-pane_process][save_wrapup] select unique id sql :SELECT uniqueid FROM t_call_trans WHERE uniqueid = null
2024-05-23 15:46:56 [call-pane_process][save_wrapup] update last wrapup :  UPDATE t_calllist_agent SET  import_id ='130', last_wrapup_id = '70|71|8', last_wrapup_detail = null, last_wrapup_option_id = 6, last_wrapup_dt = NOW() , number_of_call = number_of_call + 1 WHERE campaign_id =  41  AND calllist_id = 968301  AND agent_id = 174 
2024-05-23 15:46:56 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/cd4ec52d-cd68-4908-bd0a-feda1adcaaa0/participants/e3d15bae-58e9-4108-a21d-f8f404b17cc7
2024-05-23 15:46:56 [genesys][log]  data : stdClass Object
(
    [wrapup] => stdClass Object
        (
            [code] => 9ace0a02-d18e-449f-95a6-060284368cbd
        )

)

2024-05-23 15:46:57 [genesys][log]  return data : {}
2024-05-23 15:46:57 [call-pane_process][save_wrapup] update last wrapup :  UPDATE t_calllist_agent a  , t_campaign b  SET a.status = 0  WHERE a.campaign_id = b.campaign_id  and ifnull(b.maximum_call,0) > 0  and a.number_of_call >= ifnull(b.maximum_call,0)  and a.campaign_id =  41  AND a.calllist_id = 968301  AND a.agent_id = 174 
2024-05-23 15:46:57 [call-pane_process][wrapupCallStatus] sql : CALL sp_wrapup_call_status (41,968301,174,8)
2024-05-23 15:46:57 [call-pane_process][getCalllistDetail] sql : SELECT il.import_id,c.campaign_id,c.campaign_name,c.campaign_type,IF(il.genesys_queue_id IS NOT NULL,il.genesys_queue_id,c.genesys_queueid) AS genesys_queue_id,c.genesys_callback_queueid
	FROM t_calllist l 
	LEFT JOIN t_calllist_integration ci ON l.calllist_id = ci.calllist_id
	INNER JOIN t_import_list il ON l.import_id = il.import_id
	INNER JOIN t_campaign_list cl ON il.import_id = cl.import_id
	INNER JOIN t_campaign c ON cl.campaign_id = c.campaign_id
	WHERE ci.genesys_id = '968301' OR l.calllist_id = '968301'
2024-05-23 15:46:57 [call=pane_process][integration] geneRemoveQueue : sql=SELECT COUNT(DISTINCT calllist_id) AS call_count, IFNULL(c.lead_limit,0) AS lead_limit, a.genesysid AS user_genesysid, c.genesys_queueid 
	FROM t_call_trans t INNER JOIN t_agents a ON t.agent_id = a.agent_id
	INNER JOIN t_campaign c ON t.campaign_id = c.campaign_id
	WHERE t.agent_id = '174' AND t.campaign_id = '41' AND DATE(t.create_date) = CURDATE() AND 1 = 
	(IF(
		EXISTS(
		  SELECT 1
		  FROM t_call_trans h
		  WHERE DATE(h.create_date) < DATE(t.create_date) AND h.calllist_id = t.calllist_id
		),
		'0',
		'1'
	 ))
2024-05-23 15:46:57 [call=pane_process][integration] geneRemoveQueue Result: genesys_queue_id=b65ec790-6a8a-4eed-a6cd-0777f4944dc0 call_count=1 lead_limit=0 genesys_queueid=b65ec790-6a8a-4eed-a6cd-0777f4944dc0
2024-05-23 15:46:57 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 15:46:57 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 15:46:57 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 15:46:57 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 15:47:01  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 174 
2024-05-23 15:47:09 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = 'daef5c24b2b166aacec9bd3a2df9cdbe7bdfa79c'
2024-05-23 15:47:09 is active is 1
2024-05-23 15:47:15 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:47:15 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:47:15 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.6' 
2024-05-23 15:47:15 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 15:47:15 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.6', '664f02931a8d2' , NOW() );
2024-05-23 15:47:15 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:47:15 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:47:15 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:47:15 page: 0
2024-05-23 15:47:15 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 15:47:17 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:47:17 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:47:17 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 15:47:45  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 15:47:56 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'aigtest2' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:47:56 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:47:56 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 213 AND ip_addr != '192.168.113.6' 
2024-05-23 15:47:56 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 213
2024-05-23 15:47:56 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '213','192.168.113.6', '664f02bc6399b' , NOW() );
2024-05-23 15:47:56 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '213','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:47:56 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 15:47:56 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 213 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:47:56 page: 0
2024-05-23 15:47:56 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 213 )  ORDER BY n.create_date DESC 
2024-05-23 15:47:58 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 15:47:58 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:47:58 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus IN ('Approve','QC_Approved'))  ORDER BY app.create_date  DESC 
2024-05-23 15:48:47  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 213 
2024-05-23 15:49:12 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:49:12 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:49:12 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.6' 
2024-05-23 15:49:12 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 15:49:12 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.6', '664f03084b7e0' , NOW() );
2024-05-23 15:49:12 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:49:12 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:49:12 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:49:12 page: 0
2024-05-23 15:49:12 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 15:49:15 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:49:15 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:49:15 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 15:50:10  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 15:50:17 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_id = '240' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:50:17 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:50:17 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.6' 
2024-05-23 15:50:17 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 15:50:17 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.6', '664f0349eb90d' , NOW() );
2024-05-23 15:50:17 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:50:18 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:50:18 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:50:18 page: 0
2024-05-23 15:50:18 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 15:50:19 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:50:20 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:50:20 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 15:50:39  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 15:50:51 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'demo1' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:50:51 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:50:51 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 174 AND ip_addr != '192.168.113.6' 
2024-05-23 15:50:51 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 174
2024-05-23 15:50:51 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '174','192.168.113.6', '664f036b2ed44' , NOW() );
2024-05-23 15:50:51 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '174','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:50:51 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 174 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:50:51 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:50:51 page: 0
2024-05-23 15:50:51 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 174 )  ORDER BY n.create_date DESC 
2024-05-23 15:50:53 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:50:53 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:50:53 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 15:50:53 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 15:50:53 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 15:50:53 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 15:50:53 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:50:53 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:50:53 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Submit' or AppStatus != 'Submit Re-Confirm'  ) AND app.agent_id =  174 ORDER BY app.create_date  DESC 
2024-05-23 15:50:55 session : SELECT tokenid  FROM t_session  WHERE agent_id = 174
2024-05-23 15:50:55 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:50:55 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 15:50:55 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 15:50:55 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 15:50:55 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 15:50:58 SELECT  first_name, last_name, tel1, status,conCallistid FROM t_calllist WHERE calllist_id =  968301 
2024-05-23 15:50:58  SELECT a.last_wrapup_dt ,  r.reminder_dt   FROM t_calllist_agent a LEFT OUTER JOIN t_reminder r ON a.reminder_id = r.reminder_id  WHERE a.campaign_id = 41   AND a.agent_id =  174 AND a.calllist_id = 968301
2024-05-23 15:50:58 [call-pane_process][loadpopup_content] cal history sql :  SELECT t.create_date , t.wrapup_id , t.wrapup_note  FROM t_call_trans t  WHERE t.agent_id = 174  AND t.campaign_id = 41  AND t.calllist_id = 968301 ORDER BY t.create_date DESC 
2024-05-23 15:50:58 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 70
2024-05-23 15:50:58 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  and campaign_id like '%,41,%'  ORDER BY seq_no 
2024-05-23 15:50:58 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 71
2024-05-23 15:50:58 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 8
2024-05-23 15:50:58 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 70
2024-05-23 15:50:58 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 75
2024-05-23 15:50:58 [call=pane_process][integration] wrapup_dtl: SELECT wrapup_dtl FROM t_wrapup_code WHERE wrapup_code = 27
2024-05-23 15:50:58 [call-pane_process][loadexternal_app] sql :  SELECT ex_app_name , ex_app_url , ex_app_icon  FROM t_external_app_register  WHERE campaign_id =  41   AND is_active = 1 
2024-05-23 15:51:02 [call-pane_process][getQueueFromCalllist] sql : SELECT il.import_id,c.campaign_id,c.campaign_name,c.campaign_type,IF(il.genesys_queue_id IS NOT NULL,il.genesys_queue_id,c.genesys_queueid) AS genesys_queue_id,c.genesys_callback_queueid
	FROM t_calllist l 
	INNER JOIN t_import_list il ON l.import_id = il.import_id
	INNER JOIN t_campaign_list cl ON il.import_id = cl.import_id
	INNER JOIN t_campaign c ON cl.campaign_id = c.campaign_id
	WHERE l.calllist_id = '968301'
2024-05-23 15:51:02 [call-pane_process][addCallTrans] sql : CALL sp_call_trans ('2376e8ec-aa61-4ea2-b407-b5ca75ca1d94',41,174,968301,null,null,null,null)
2024-05-23 15:51:47 save_wrapup_data : queueid=b65ec790-6a8a-4eed-a6cd-0777f4944dc0 queuecallbackid=
2024-05-23 15:51:52 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/calls/2376e8ec-aa61-4ea2-b407-b5ca75ca1d94
2024-05-23 15:51:52 [genesys][log]  data : 
2024-05-23 15:51:52 [genesys][log]  return data : {"id":"2376e8ec-aa61-4ea2-b407-b5ca75ca1d94","participants":[{"id":"40be0a35-5e16-41d9-8f83-b31009f0beb2","address":"sip:651552cdd152a71ab0b6f258+arkinsightsbpo.orgspan.com@localhost","startTime":"2024-05-23T08:51:02.334Z","connectedTime":"2024-05-23T08:51:16.306Z","endTime":"2024-05-23T08:51:37.885Z","purpose":"agent","state":"terminated","direction":"outbound","disconnectType":"client","held":false,"wrapupRequired":true,"wrapupPrompt":"timeout","mediaRoles":["full"],"user":{"id":"c0022e04-d981-4af2-8a54-884b4cd9d358","selfUri":"/api/v2/users/c0022e04-d981-4af2-8a54-884b4cd9d358"},"queue":{"id":"b65ec790-6a8a-4eed-a6cd-0777f4944dc0","selfUri":"/api/v2/routing/queues/b65ec790-6a8a-4eed-a6cd-0777f4944dc0"},"attributes":{},"errorInfo":{"message":"session a93f8230-5e9e-4b70-b9fa-3053cabbc06f is inactive for command cloud.command.disconnect","code":"error.ininedgecontrol.session.inactive","messageWithParams":"session {sessionId} is inactive for command {type}","messageParams":{"sessionId":"a93f8230-5e9e-4b70-b9fa-3053cabbc06f","type":"cloud.command.disconnect"},"details":[],"errors":[]},"script":{"id":"fe0e5fb9-ce09-4cdd-84bb-c38879b0dafe","selfUri":"/api/v2/scripts/fe0e5fb9-ce09-4cdd-84bb-c38879b0dafe"},"wrapupTimeoutMs":120000,"provider":"Edge","startAcwTime":"2024-05-23T08:51:37.885Z","muted":false,"confined":false,"recording":false,"recordingState":"none","ani":"sip:651552cdd152a71ab0b6f258+arkinsightsbpo.orgspan.com@localhost","dnis":"tel:+66989156291","securePause":false},{"id":"8ce32c08-c6d6-4954-8d6e-e913b79ce0ef","name":"Mobile Number, Thailand","address":"tel:+66989156291","startTime":"2024-05-23T08:51:10.215Z","connectedTime":"2024-05-23T08:51:16.296Z","endTime":"2024-05-23T08:51:37.852Z","purpose":"customer","state":"terminated","direction":"outbound","disconnectType":"peer","held":false,"wrapupRequired":false,"mediaRoles":["full"],"queue":{"id":"b65ec790-6a8a-4eed-a6cd-0777f4944dc0","selfUri":"/api/v2/routing/queues/b65ec790-6a8a-4eed-a6cd-0777f4944dc0"},"attributes":{},"provider":"Edge","externalContact":{"id":"2f83d051-f924-41be-bed5-e866c8b6c439","selfUri":"/api/v2/externalcontacts/contacts/2f83d051-f924-41be-bed5-e866c8b6c439"},"peer":"a93f8230-5e9e-4b70-b9fa-3053cabbc06f","muted":false,"confined":false,"recording":false,"recordingState":"none","ani":"sip:+66652340958@10.57.18.223;user=phone","dnis":"tel:+66989156291","securePause":false}],"otherMediaUris":[],"recentTransfers":[],"utilizationLabelId":"631f0939-be32-495a-baf9-970abb039192","recordingState":"none","securePause":false,"selfUri":"/api/v2/conversations/calls/2376e8ec-aa61-4ea2-b407-b5ca75ca1d94"}
2024-05-23 15:51:52 [call-pane_process][bypass_save_wrapup] update last wrapup :  UPDATE t_calllist_agent SET  agent_id = 174 WHERE campaign_id =  41  AND calllist_id = 968301
2024-05-23 15:51:52 [call-pane_process][save_wrapup] check remove list from working list sql : SELECT remove_list, option_id, genesys_wrapup_id FROM t_wrapup_code WHERE wrapup_code = 8  
2024-05-23 15:51:52 [call-pane_process][save_wrapup] update list from working list  sql :  UPDATE t_calllist_agent SET status = 0 WHERE calllist_id = 968301   AND campaign_id =  41  AND calllist_id = 968301  AND agent_id = 174 
2024-05-23 15:51:52 [call-pane_process][save_wrapup] update current call transaction sql :UPDATE t_call_trans SET  import_id ='130', wrapup_id ='70|71|8', wrapup_note =null, wrapup_option_id =6, update_date =NOW()  WHERE voice_id =  '2376e8ec-aa61-4ea2-b407-b5ca75ca1d94'
2024-05-23 15:51:52 [call-pane_process][save_wrapup] select unique id sql :SELECT uniqueid FROM t_call_trans WHERE uniqueid = null
2024-05-23 15:51:52 [call-pane_process][save_wrapup] update last wrapup :  UPDATE t_calllist_agent SET  import_id ='130', last_wrapup_id = '70|71|8', last_wrapup_detail = null, last_wrapup_option_id = 6, last_wrapup_dt = NOW() , number_of_call = number_of_call + 1 WHERE campaign_id =  41  AND calllist_id = 968301  AND agent_id = 174 
2024-05-23 15:51:52 [genesys][log]  url : https://api.mypurecloud.jp/api/v2/conversations/2376e8ec-aa61-4ea2-b407-b5ca75ca1d94/participants/40be0a35-5e16-41d9-8f83-b31009f0beb2
2024-05-23 15:51:52 [genesys][log]  data : stdClass Object
(
    [wrapup] => stdClass Object
        (
            [code] => 9ace0a02-d18e-449f-95a6-060284368cbd
        )

)

2024-05-23 15:51:53 [genesys][log]  return data : {}
2024-05-23 15:51:53 [call-pane_process][save_wrapup] update last wrapup :  UPDATE t_calllist_agent a  , t_campaign b  SET a.status = 0  WHERE a.campaign_id = b.campaign_id  and ifnull(b.maximum_call,0) > 0  and a.number_of_call >= ifnull(b.maximum_call,0)  and a.campaign_id =  41  AND a.calllist_id = 968301  AND a.agent_id = 174 
2024-05-23 15:51:53 [call-pane_process][wrapupCallStatus] sql : CALL sp_wrapup_call_status (41,968301,174,8)
2024-05-23 15:51:53 [call-pane_process][getCalllistDetail] sql : SELECT il.import_id,c.campaign_id,c.campaign_name,c.campaign_type,IF(il.genesys_queue_id IS NOT NULL,il.genesys_queue_id,c.genesys_queueid) AS genesys_queue_id,c.genesys_callback_queueid
	FROM t_calllist l 
	LEFT JOIN t_calllist_integration ci ON l.calllist_id = ci.calllist_id
	INNER JOIN t_import_list il ON l.import_id = il.import_id
	INNER JOIN t_campaign_list cl ON il.import_id = cl.import_id
	INNER JOIN t_campaign c ON cl.campaign_id = c.campaign_id
	WHERE ci.genesys_id = '968301' OR l.calllist_id = '968301'
2024-05-23 15:51:53 [call=pane_process][integration] geneRemoveQueue : sql=SELECT COUNT(DISTINCT calllist_id) AS call_count, IFNULL(c.lead_limit,0) AS lead_limit, a.genesysid AS user_genesysid, c.genesys_queueid 
	FROM t_call_trans t INNER JOIN t_agents a ON t.agent_id = a.agent_id
	INNER JOIN t_campaign c ON t.campaign_id = c.campaign_id
	WHERE t.agent_id = '174' AND t.campaign_id = '41' AND DATE(t.create_date) = CURDATE() AND 1 = 
	(IF(
		EXISTS(
		  SELECT 1
		  FROM t_call_trans h
		  WHERE DATE(h.create_date) < DATE(t.create_date) AND h.calllist_id = t.calllist_id
		),
		'0',
		'1'
	 ))
2024-05-23 15:51:53 [call=pane_process][integration] geneRemoveQueue Result: genesys_queue_id=b65ec790-6a8a-4eed-a6cd-0777f4944dc0 call_count=1 lead_limit=0 genesys_queueid=b65ec790-6a8a-4eed-a6cd-0777f4944dc0
2024-05-23 15:51:53 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND a.status = 1  AND campaign_id = 41 AND a.last_wrapup_option_id IS NULL 
2024-05-23 15:51:53 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174  AND campaign_id = 41  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2024-05-23 15:51:53 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2024-05-23 15:51:53 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 174 AND campaign_id = 41 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2024-05-23 15:52:00  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 174 
2024-05-23 15:52:07 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:52:07 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:52:07 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.6' 
2024-05-23 15:52:07 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 15:52:07 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.6', '664f03b7b4fd8' , NOW() );
2024-05-23 15:52:07 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:52:08 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:52:08 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:52:08 page: 0
2024-05-23 15:52:08 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 15:52:10 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:52:10 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 15:52:10 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:53:07  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
2024-05-23 15:53:25 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'aigtest2' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:53:25 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:53:25 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 213 AND ip_addr != '192.168.113.6' 
2024-05-23 15:53:25 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 213
2024-05-23 15:53:25 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '213','192.168.113.6', '664f04055061e' , NOW() );
2024-05-23 15:53:25 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '213','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:53:25 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 15:53:25 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 213 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:53:25 page: 0
2024-05-23 15:53:25 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 213 )  ORDER BY n.create_date DESC 
2024-05-23 15:53:28 session : SELECT tokenid  FROM t_session  WHERE agent_id = 213
2024-05-23 15:53:28 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:53:28 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus IN ('Approve','QC_Approved'))  ORDER BY app.create_date  DESC 
2024-05-23 15:53:51  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 213 
2024-05-23 15:54:02 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'qc01' AND agent_password = '505575b06b2e10356ed8128583a07e9aad2c4cff'
2024-05-23 15:54:02 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '08:00:00' 
2024-05-23 15:54:02 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 240 AND ip_addr != '192.168.113.6' 
2024-05-23 15:54:02 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 240
2024-05-23 15:54:02 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '240','192.168.113.6', '664f042a3c6b3' , NOW() );
2024-05-23 15:54:02 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '240','192.168.113.6', 'Login' , NOW() );
2024-05-23 15:54:02 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.team_id  = 6 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2024-05-23 15:54:02 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:54:02 page: 0
2024-05-23 15:54:02 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 240 )  ORDER BY n.create_date DESC 
2024-05-23 15:54:04 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:54:04 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 15:54:05 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:54:51 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:54:51 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 15:54:51 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 15:55:31 session : SELECT tokenid  FROM t_session  WHERE agent_id = 240
2024-05-23 15:55:31 [application-pane_process][query] query :  SELECT id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp,  concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 1 AND app_id = app.id LIMIT 1) as qc_name,  (SELECT CONCAT(a.first_name,' ',a.last_name) FROM t_aig_qa_answer qa INNER JOIN t_agents a ON qa.create_by = a.agent_id WHERE col_id = 2 AND app_id = app.id LIMIT 1) as qa_name  FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id  WHERE 1 AND (AppStatus != 'Follow Doc')  ORDER BY app.create_date  DESC 
2024-05-23 15:55:31 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2024-05-23 16:21:43  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 240 
