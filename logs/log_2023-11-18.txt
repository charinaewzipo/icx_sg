2023-11-18 11:40:20  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 1 
2023-11-18 11:40:26 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_id = '1' AND agent_password = '15c6edb1411262b469d13cfbe2fc5429bc4d6050'
2023-11-18 11:40:26 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '00:45:00' 
2023-11-18 11:40:26 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 1 AND ip_addr != '192.168.60.2' 
2023-11-18 11:40:26 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 1
2023-11-18 11:40:26 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '1','192.168.60.2', '6558403acc53b' , NOW() );
2023-11-18 11:40:26 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '1','192.168.60.2', 'Login' , NOW() );
2023-11-18 11:40:32 session : SELECT tokenid  FROM t_session  WHERE agent_id = 1
2023-11-18 11:40:32 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id is not null  GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2023-11-18 11:40:32 page: 0
2023-11-18 11:40:32 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 1 )  ORDER BY n.create_date DESC 
2023-11-18 11:40:39 session : SELECT tokenid  FROM t_session  WHERE agent_id = 1
2023-11-18 11:40:40 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  ORDER BY seq_no 
2023-11-18 11:40:40 [call-pane_process][init] sql : SELECT COUNT(calllist_id) AS total , j.agent_id , c.campaign_id , c.campaign_name , c.campaign_detail, c.genesys_queueid, genesys_callback_queueid, c.campaign_type , last_join_date   , COUNT( a.CNT_NEW_LIST ) AS TOT_NEW_LIST  , COUNT( a.CNT_NOCONTACT ) AS TOT_NOCONTACT  , COUNT( a.CNT_CALLBACK ) AS TOT_CALLBACK  , COUNT( a.CNT_FOLLOWUP ) AS TOT_FOLLOWUP  FROM  t_campaign c  left outer join (  SELECT calllist_id , agent_id , campaign_id  ,CASE WHEN last_wrapup_option_id IS NULL THEN calllist_id END AS CNT_NEW_LIST  ,CASE WHEN last_wrapup_option_id = 1   THEN calllist_id END AS CNT_CALLBACK  ,CASE WHEN last_wrapup_option_id  IN ( 2,9 ) THEN calllist_id END AS CNT_FOLLOWUP  ,CASE WHEN last_wrapup_option_id = 8 THEN calllist_id END AS CNT_NOCONTACT  FROM t_calllist_agent  WHERE agent_id = 1 AND status = 1 ) a  on ( c.campaign_id = a.campaign_id ) left outer JOIN (SELECT agent_id,campaign_id,last_join_date FROM t_agent_join_campaign WHERE agent_id=1) j on ( c.campaign_id = j.campaign_id )  WHERE c.status=2  GROUP BY j.agent_id , c.campaign_id , c.campaign_name , c.campaign_detail , last_join_date
2023-11-18 11:41:11  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 1 
2023-11-18 11:41:35 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'pvt' AND agent_password = '2f5f924e5fe2c31b78de6059e964edf25733ffbf'
2023-11-18 11:41:35 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '00:45:00' 
2023-11-18 11:41:35 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 275 AND ip_addr != '192.168.60.2' 
2023-11-18 11:41:35 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 275
2023-11-18 11:41:35 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '275','192.168.60.2', '6558407f97216' , NOW() );
2023-11-18 11:41:35 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '275','192.168.60.2', 'Login' , NOW() );
2023-11-18 11:41:40 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id  = 275 GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2023-11-18 11:41:40 session : SELECT tokenid  FROM t_session  WHERE agent_id = 275
2023-11-18 11:41:40 page: 0
2023-11-18 11:41:40 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 275 )  ORDER BY n.create_date DESC 
2023-11-18 11:41:49 session : SELECT tokenid  FROM t_session  WHERE agent_id = 275
2023-11-18 11:41:49 [call-pane_process-Wrapup][init] sql : SELECT wrapup_code , wrapup_dtl  FROM t_wrapup_code  WHERE status = 1  and parent_code = 0  ORDER BY seq_no 
2023-11-18 11:41:49 [call-pane_process][init] sql : SELECT COUNT(calllist_id) AS total , j.agent_id , c.campaign_id , c.campaign_name , c.campaign_detail, c.genesys_queueid, genesys_callback_queueid, c.campaign_type , last_join_date   , COUNT( a.CNT_NEW_LIST ) AS TOT_NEW_LIST  , COUNT( a.CNT_NOCONTACT ) AS TOT_NOCONTACT  , COUNT( a.CNT_CALLBACK ) AS TOT_CALLBACK  , COUNT( a.CNT_FOLLOWUP ) AS TOT_FOLLOWUP  FROM  t_campaign c  left outer join (  SELECT calllist_id , agent_id , campaign_id  ,CASE WHEN last_wrapup_option_id IS NULL THEN calllist_id END AS CNT_NEW_LIST  ,CASE WHEN last_wrapup_option_id = 1   THEN calllist_id END AS CNT_CALLBACK  ,CASE WHEN last_wrapup_option_id  IN ( 2,9 ) THEN calllist_id END AS CNT_FOLLOWUP  ,CASE WHEN last_wrapup_option_id = 8 THEN calllist_id END AS CNT_NOCONTACT  FROM t_calllist_agent  WHERE agent_id = 275 AND status = 1 ) a  on ( c.campaign_id = a.campaign_id ) left outer JOIN (SELECT agent_id,campaign_id,last_join_date FROM t_agent_join_campaign WHERE agent_id=275) j on ( c.campaign_id = j.campaign_id )  WHERE c.status=2  GROUP BY j.agent_id , c.campaign_id , c.campaign_name , c.campaign_detail , last_join_date
2023-11-18 11:42:29 [call-pane_process][query_dashboard] NEW LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 275 AND a.status = 1  AND campaign_id = 8 AND a.last_wrapup_option_id IS NULL 
2023-11-18 11:42:29 [call-pane_process][query_dashboard] NO CONTACT LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 275  AND campaign_id = 8  AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 2 ) 
2023-11-18 11:42:29 [call-pane_process][query_dashboard] CALL BACK LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 275 AND campaign_id = 8 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 3 ) 
2023-11-18 11:42:29 [call-pane_process][query_dashboard] FOLLOWUP LIST sql  :  SELECT COUNT(a.calllist_id) AS total  FROM t_calllist_agent a  LEFT OUTER JOIN t_calllist c ON a.calllist_id = c.calllist_id  WHERE a.agent_id = 275 AND campaign_id = 8 AND a.status = 1  AND last_wrapup_option_id IN ( SELECT option_id FROM ts_call_tab_wrapup WHERE tab_id = 4 ) 
2023-11-18 11:42:33 SELECT  first_name, last_name, tel1, tel2, status,conCallistid FROM t_calllist WHERE calllist_id =  1303025 
2023-11-18 11:42:33  SELECT a.last_wrapup_dt ,  r.reminder_dt   FROM t_calllist_agent a LEFT OUTER JOIN t_reminder r ON a.reminder_id = r.reminder_id  WHERE a.campaign_id = 8   AND a.agent_id =  275 AND a.calllist_id = 1303025
2023-11-18 11:42:33 [call-pane_process][loadpopup_content] cal history sql :  SELECT t.create_date , t.wrapup_id , t.wrapup_note  FROM t_call_trans t  WHERE t.agent_id = 275  AND t.campaign_id = 8  AND t.calllist_id = 1303025 ORDER BY t.create_date DESC 
2023-11-18 11:42:34 [call-pane_process][loadexternal_app] sql :  SELECT ex_app_name , ex_app_url , ex_app_icon  FROM t_external_app_register  WHERE campaign_id =  8   AND is_active = 1 
2023-11-18 11:42:58  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 275 
2023-11-18 11:55:56  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 275 
2023-11-18 11:56:18 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 'tubtim' AND agent_password = '15c6edb1411262b469d13cfbe2fc5429bc4d6050'
2023-11-18 11:56:18 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '00:45:00' 
2023-11-18 11:56:18 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 1 AND ip_addr != '192.168.60.2' 
2023-11-18 11:56:18 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 1
2023-11-18 11:56:18 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '1','192.168.60.2', '655843f2766e0' , NOW() );
2023-11-18 11:56:18 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '1','192.168.60.2', 'Login' , NOW() );
2023-11-18 11:56:22 session : SELECT tokenid  FROM t_session  WHERE agent_id = 1
2023-11-18 11:56:22 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id is not null  GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2023-11-18 11:56:23 page: 0
2023-11-18 11:56:23 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 1 )  ORDER BY n.create_date DESC 
2023-11-18 11:56:30 session : SELECT tokenid  FROM t_session  WHERE agent_id = 1
2023-11-18 11:56:30 [callList_process][query] query sql :   SELECT import_id , list_name , list_detail , i.create_date , first_name , last_name , total_records    FROM t_import_list  i LEFT OUTER JOIN t_agents a ON i.create_user = a.agent_id  WHERE list_name IS NOT NULL  ORDER BY create_date DESC  LIMIT 0 , 5
2023-11-18 11:56:38 [callList_process][upload] Start upload 
2023-11-18 11:56:38 [callList_process][removeTemp] find import key sql :  SELECT import_id , import_key FROM t_import_list  WHERE list_name IS NULL
2023-11-18 11:56:38 [callList_process][upload] remove temp : success 
2023-11-18 11:56:38 [callList_process][upload] file ok to upload 
2023-11-18 11:56:38 [callList_process][upload] check file type : text/plain
2023-11-18 11:56:38 [callList_process][upload] file type is text : text
2023-11-18 11:56:38 [callList_process][upload] file upload success 
2023-11-18 11:56:38 [callList_process][upload] upload file sql :  INSERT INTO t_import_list ( file_name , import_key , `status` , temp_table_name , file_size , file_type , file_path , create_user , create_date) VALUES ( 'pvt_call_list.txt' ,'65584406a447f' , 0 ,'tmp_table65584406a447f' ,'95 Byte' ,'text/plain' ,'D:/html/profiles/attach/' ,1 , NOW() )  
2023-11-18 11:56:38 [callList_process][upload] Convert excel key : [65584406a447f] to csv 
2023-11-18 11:56:38 [callList_process][upload] Convert excel key : [65584406a447f] to csv success
2023-11-18 11:56:43 [afterUpload][get key] : 65584406a447f
2023-11-18 11:56:43 [afterUpload][init system field] sql :  SELECT field_name, field_alias_name, field_detail  FROM  ts_field_list  WHERE status = 1 
2023-11-18 11:56:43 [afterUpload][check file path and extension ] sql :   SELECT file_path , file_name , file_type   FROM t_import_list  WHERE import_key = '65584406a447f'
2023-11-18 11:56:43 [afterUpload][file exist] on path : D:/html/profiles/attach/pvt_call_list.txt
2023-11-18 11:56:43 [afterUpload][file type] is text : text/plain delimiter : 
2023-11-18 11:56:43 [callList_process][csvReader] get file path : D:/html/profiles/attach/pvt_call_list.txt and delimiter ,
2023-11-18 11:56:43 [callList_process][csvReader] file exist
2023-11-18 11:56:43 read line : id,First,Last,Phone

2023-11-18 11:56:43 data : id,First,Last,Phone

2023-11-18 11:56:43 size4
2023-11-18 11:56:43 id
2023-11-18 11:56:43 id
2023-11-18 11:56:43 First
2023-11-18 11:56:43 Last
2023-11-18 11:56:43 Phone

2023-11-18 11:56:43 [afterUpload][update field_delimiter ] sql :  UPDATE t_import_list SET field_delimiter = ','  WHERE import_key = '65584406a447f' 
2023-11-18 11:56:54 [import_process][mapdbfield] drop table  : DROP TABLE IF EXISTS tmp_table65584406a447f
2023-11-18 11:56:54 create table :CREATE TABLE tmp_table65584406a447f ( seq int(7) NOT NULL AUTO_INCREMENT,  id_num varchar(255),  first_name varchar(255),  last_name varchar(255),  tel1 varchar(255),  PRIMARY KEY (`seq`)  ) 
2023-11-18 11:56:54 [callList_process][mappingfield] CREATE INDEX on temp_table sql : CREATE INDEX idx_65584406a447f ON tmp_table65584406a447f (first_name,last_name,tel1) 
2023-11-18 11:56:54 ---- prepare load file ----
2023-11-18 11:56:54 column option : (id_num,first_name,last_name,tel1)
2023-11-18 11:56:54 ignore header : checked 1
2023-11-18 11:56:54 [callList_process][mappingfield] sql :  LOAD DATA LOCAL INFILE 'D:\html/temp/65584406a447f.csv'  INTO TABLE tmp_table65584406a447f  FIELDS TERMINATED BY ','  IGNORE 1 LINES (id_num,first_name,last_name,tel1) SET `seq` = NULL; 
2023-11-18 11:56:54 [callList_process][mappingfield] ALTER table ADD column sql : ALTER TABLE tmp_table65584406a447f ADD  excel_dup tinyint(1) , ADD calllist_dup tinyint(1) , ADD badlist tinyint(1) 
2023-11-18 11:56:54 [callList_process][mappingfield] CLEANSING DATA field [tel1] sql : UPDATE tmp_table65584406a447f SET  tel1=fn_Getdigits(tel1)
2023-11-18 11:56:54 [callList_process][mappingfield] CHECKING PHONE badlist sql :  UPDATE tmp_table65584406a447f SET badlist = 1  WHERE ( length( fn_Getdigits(tel1)) not in (9,10) )
2023-11-18 11:56:54 [callList_process][mappingfield] CHECKING excel duplicate sql :  UPDATE tmp_table65584406a447f a  , ( SELECT min(seq) as seq , first_name , last_name , tel1  FROM tmp_table65584406a447f  GROUP BY first_name , last_name , tel1) b SET a.excel_dup = 1  WHERE a.first_name = b.first_name  AND a.last_name = b.last_name  AND a.tel1 = b.tel1  AND a.SEQ <> b.SEQ 
2023-11-18 11:56:54 [callList_process][mappingfield] CHECKING database duplicate sql : UPDATE tmp_table65584406a447f a , t_calllist b SET a.calllist_dup = 1  WHERE a.first_name = b.first_name  AND a.last_name = b.last_name  AND a.tel1 = b.tel1 
2023-11-18 11:56:54 [callList_process][mappingfield] summary sql : SELECT COUNT(*) AS total , SUM(excel_dup) AS inlist , SUM(calllist_dup) AS indb , SUM(badlist) AS badlist   FROM (   			SELECT  case when badlist = 1 then 1 else 0 end as badlist   			, case when calllist_dup = 1 and badlist is null then 1 else 0 end as calllist_dup  			, case when excel_dup = 1 and badlist is null and calllist_dup is null then 1 else 0 end  as excel_dup				FROM tmp_table65584406a447f			) a  
2023-11-18 11:56:54 [callList_process][mappingfield] update list result sql :  UPDATE t_import_list SET  total_records = 4, bad_list = 0, inlist_dup = 0, indb_dup = 0  WHERE import_key =  '65584406a447f' 
2023-11-18 11:56:54 [callList_process][mappingfield] DELETE mapping field before INSERT sql : DELETE FROM t_import_list_field WHERE import_id = 132
2023-11-18 11:56:54 [callList_process][mappingfield] insert mapping field sql : INSERT INTO t_import_list_field ( import_id , caption_index , caption_name , field_name , create_user , create_date ) VALUES (  132 ,'0' ,'id' ,'id_num' ,1 , NOW() )  
2023-11-18 11:56:54 [callList_process][mappingfield] insert mapping field sql : INSERT INTO t_import_list_field ( import_id , caption_index , caption_name , field_name , create_user , create_date ) VALUES (  132 ,'1' ,'First' ,'first_name' ,1 , NOW() )  
2023-11-18 11:56:54 [callList_process][mappingfield] insert mapping field sql : INSERT INTO t_import_list_field ( import_id , caption_index , caption_name , field_name , create_user , create_date ) VALUES (  132 ,'2' ,'Last' ,'last_name' ,1 , NOW() )  
2023-11-18 11:56:54 [callList_process][mappingfield] insert mapping field sql : INSERT INTO t_import_list_field ( import_id , caption_index , caption_name , field_name , create_user , create_date ) VALUES (  132 ,'3' ,'Phone' ,'tel1' ,1 , NOW() )  
2023-11-18 11:57:15  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 1 
2023-11-18 12:15:55  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 1 
2023-11-18 12:16:02 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_id = '1' AND agent_password = '15c6edb1411262b469d13cfbe2fc5429bc4d6050'
2023-11-18 12:16:02 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '00:45:00' 
2023-11-18 12:16:02 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 1 AND ip_addr != '192.168.60.2' 
2023-11-18 12:16:02 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 1
2023-11-18 12:16:02 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '1','192.168.60.2', '6558489252eb5' , NOW() );
2023-11-18 12:16:02 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '1','192.168.60.2', 'Login' , NOW() );
2023-11-18 12:16:07 session : SELECT tokenid  FROM t_session  WHERE agent_id = 1
2023-11-18 12:16:07 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id is not null  GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2023-11-18 12:16:07 page: 0
2023-11-18 12:16:07 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 1 )  ORDER BY n.create_date DESC 
2023-11-18 12:16:14 session : SELECT tokenid  FROM t_session  WHERE agent_id = 1
2023-11-18 12:16:14 SELECT ex_app_url , campaign_id  FROM t_external_app_register WHERE ex_app_id = 3 AND is_active = 1 
2023-11-18 12:16:14 [application-pane_process][query] query :  SELECT  id, app_run_no, COALESCE(CONCAT(campaign.plancode,ProposalNumber),ProposalNumber) as quotation ,Firstname, Lastname, campaign.campaign_name as camp ,  	concat( agent.first_name ,' ', agent.last_name)  as owner , app.create_date as Sale_Date , AppStatus, app.campaign_id as camp_id   FROM t_aig_app app LEFT OUTER JOIN  t_agents  agent ON app.agent_id = agent.agent_id  LEFT OUTER JOIN  t_campaign campaign ON app.campaign_id = campaign.campaign_id   WHERE 1 ORDER BY app.create_date  DESC 
2023-11-18 12:19:21  SELECT agent_id , first_name , last_name  , img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE  agent_id = 1 
2023-11-18 19:29:13 [index_process][login] sql :  SELECT agent_id, genesysid , first_name , last_name , extension, is_active , level_id , team_name, img_path  FROM t_agents a LEFT OUTER JOIN t_team t  ON a.team_id = t.team_id  WHERE agent_login = 's.waroon' AND agent_password = 'cc5f63cbec366d3f445837218dd54b0d769b1c3f'
2023-11-18 19:29:13 session init sql :DELETE  FROM t_session WHERE TIMEDIFF( NOW(), timestamp ) > '00:45:00' 
2023-11-18 19:29:13 session init check concurrent session : SELECT agent_id FROM t_session WHERE agent_id = 273 AND ip_addr != '192.168.30.2' 
2023-11-18 19:29:13 update last login  : UPDATE t_agents SET last_login_dt = NOW() WHERE agent_id = 273
2023-11-18 19:29:13 session init : INSERT INTO t_session( agent_id , ip_addr , tokenid , timestamp ) VALUE(  '273','192.168.30.2', '6558ae19eb581' , NOW() );
2023-11-18 19:29:13 session init Insert Login History : INSERT INTO t_login_history ( agent_id , ip , type , datetime ) VALUE(  '273','192.168.30.2', 'Login' , NOW() );
2023-11-18 19:29:14 session : SELECT tokenid  FROM t_session  WHERE agent_id = 273
2023-11-18 19:29:14 check sup permission :  SELECT c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name   , ag.img_path ,  ag.extension, t.team_name  , count( a.calllist_id ) as total_call , sum( a.new_cnt ) as new_cnt , sum( a.callback_cnt ) as success_cnt , sum( a.callback_cnt ) as callback_cnt , sum( a.follow_cnt ) as follow_cnt , sum( a.dnc_cnt ) as dnc_cnt , sum( a.bad_cnt ) as bad_cnt , sum( a.nocont_cnt) as nocont_cnt FROM  (  select campaign_id ,agent_id ,calllist_id  ,case when last_wrapup_option_id IS NULL then 1 else 0 end as new_cnt  ,case when last_wrapup_option_id = 0 then 1 else 0 end as success_cnt  ,case when last_wrapup_option_id = 1 then 1 else 0 end as callback_cnt  ,case when last_wrapup_option_id in ( 2,9 ) then 1 else 0 end as follow_cnt  ,case when last_wrapup_option_id = 3 then 1 else 0 end as dnc_cnt  ,case when last_wrapup_option_id = 4 then 1 else 0 end as bad_cnt  ,case when last_wrapup_option_id = 8 then 1 else 0 end as nocont_cnt  FROM t_calllist_agent ) AS a  LEFT OUTER JOIN t_campaign c ON a.campaign_id = c.campaign_id   LEFT OUTER JOIN t_agents ag ON a.agent_id = ag.agent_id   LEFT OUTER JOIN t_team t ON ag.team_id = t.team_id   LEFT OUTER JOIN t_group g ON t.group_id = g.group_id   WHERE ag.agent_id is not null  GROUP BY c.campaign_name , a.campaign_id , ag.agent_id , ag.first_name , ag.last_name  ,ag.img_path ,  ag.extension, t.team_name 
2023-11-18 19:29:14 page: 0
2023-11-18 19:29:14 news load sql :   SELECT news_id , news_subject , news_detail , news_type , n.is_active, n.create_date, n.create_user , a.first_name , a.last_name , a.img_path  FROM t_news n LEFT OUTER JOIN t_agents a ON a.agent_id = n.create_user  WHERE a.group_id = ( SELECT group_id FROM t_agents WHERE agent_id = 273 )  ORDER BY n.create_date DESC 
2023-11-18 19:29:19 session : SELECT tokenid  FROM t_session  WHERE agent_id = 273
2023-11-18 19:29:19  SELECT agent_id, agent_login, first_name , last_name, first_name_th, last_name_th , genesysid, nickname, img_path, is_active, lv.role_label , a.group_id , group_name, a.team_id , team_name, last_login_dt  FROM  t_agents a  LEFT OUTER JOIN tl_role lv ON a.level_id = lv.role_lv  LEFT OUTER JOIN t_group g ON a.group_id = g.group_id  LEFT OUTER JOIN t_team t ON t.team_id = a.team_id  WHERE agent_id IS NOT NULL  ORDER BY a.team_id , first_name  
